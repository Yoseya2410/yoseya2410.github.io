<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据库应用（MySQL） | 釉色鸭的笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="./img/logo.png">
    <script type="text/javascript" src="./js/MicrosoftClarity.js"></script>
    <meta name="description" content="欢迎来到我的知识库，这里存放着我在自然科学，计算机科学，电子科学等领域所学习到的知识。">
    <meta name="author" content="钢铁直男釉色鸭">
    <meta name="baidu-site-verification" content="codeva-Tg016Vm0nu">
    <meta name="msvalidate.01" content="B6576B71940A163919B4737E9A751485">
    <meta name="google-site-verification" content="fV3hX5ZbIBy6PAxE0dubuOfSgI0nctKRpFwcbcsVB7w">
    
    <link rel="preload" href="/assets/css/0.styles.7324eb70.css" as="style"><link rel="preload" href="/assets/js/app.3c2f8f21.js" as="script"><link rel="preload" href="/assets/js/3.107e051b.js" as="script"><link rel="preload" href="/assets/js/39.7f3be8cb.js" as="script"><link rel="preload" href="/assets/js/5.56dd59ee.js" as="script"><link rel="prefetch" href="/assets/js/10.16039208.js"><link rel="prefetch" href="/assets/js/11.e6876fe2.js"><link rel="prefetch" href="/assets/js/12.7f27b2b9.js"><link rel="prefetch" href="/assets/js/13.99086e97.js"><link rel="prefetch" href="/assets/js/14.4d9c3fd1.js"><link rel="prefetch" href="/assets/js/15.68d8aff1.js"><link rel="prefetch" href="/assets/js/16.ea59e35d.js"><link rel="prefetch" href="/assets/js/17.59b5a50d.js"><link rel="prefetch" href="/assets/js/18.58dc0191.js"><link rel="prefetch" href="/assets/js/19.2438d003.js"><link rel="prefetch" href="/assets/js/20.25bbf346.js"><link rel="prefetch" href="/assets/js/21.4cafa004.js"><link rel="prefetch" href="/assets/js/22.0474bcc2.js"><link rel="prefetch" href="/assets/js/23.0cc413a4.js"><link rel="prefetch" href="/assets/js/24.6c132bcc.js"><link rel="prefetch" href="/assets/js/25.9f0f5096.js"><link rel="prefetch" href="/assets/js/26.6762ed90.js"><link rel="prefetch" href="/assets/js/27.78cdf6ca.js"><link rel="prefetch" href="/assets/js/28.44dc3d26.js"><link rel="prefetch" href="/assets/js/29.33b19c14.js"><link rel="prefetch" href="/assets/js/30.12103411.js"><link rel="prefetch" href="/assets/js/31.ed938d35.js"><link rel="prefetch" href="/assets/js/32.62b086d4.js"><link rel="prefetch" href="/assets/js/33.d0e77a2a.js"><link rel="prefetch" href="/assets/js/34.18e92e3a.js"><link rel="prefetch" href="/assets/js/35.d6c54db9.js"><link rel="prefetch" href="/assets/js/36.a776fa19.js"><link rel="prefetch" href="/assets/js/37.1472c02c.js"><link rel="prefetch" href="/assets/js/38.598f12a9.js"><link rel="prefetch" href="/assets/js/4.f40e2c58.js"><link rel="prefetch" href="/assets/js/40.a6457d7c.js"><link rel="prefetch" href="/assets/js/41.e03182fe.js"><link rel="prefetch" href="/assets/js/42.a24eaacd.js"><link rel="prefetch" href="/assets/js/43.3bd304bb.js"><link rel="prefetch" href="/assets/js/44.35015af8.js"><link rel="prefetch" href="/assets/js/45.b42186ce.js"><link rel="prefetch" href="/assets/js/46.7d212149.js"><link rel="prefetch" href="/assets/js/47.27161a27.js"><link rel="prefetch" href="/assets/js/48.2e0090b8.js"><link rel="prefetch" href="/assets/js/49.1a7147a9.js"><link rel="prefetch" href="/assets/js/50.bc2e351e.js"><link rel="prefetch" href="/assets/js/51.6abdf538.js"><link rel="prefetch" href="/assets/js/52.5f3bb057.js"><link rel="prefetch" href="/assets/js/53.7a029e2f.js"><link rel="prefetch" href="/assets/js/54.108bded5.js"><link rel="prefetch" href="/assets/js/55.527b0cde.js"><link rel="prefetch" href="/assets/js/56.cd825588.js"><link rel="prefetch" href="/assets/js/57.c348a44f.js"><link rel="prefetch" href="/assets/js/58.27bab74a.js"><link rel="prefetch" href="/assets/js/59.09773648.js"><link rel="prefetch" href="/assets/js/6.3712678b.js"><link rel="prefetch" href="/assets/js/60.c86435c6.js"><link rel="prefetch" href="/assets/js/61.ce820caa.js"><link rel="prefetch" href="/assets/js/62.1f918558.js"><link rel="prefetch" href="/assets/js/63.73613b0a.js"><link rel="prefetch" href="/assets/js/64.36bdf83b.js"><link rel="prefetch" href="/assets/js/65.e76b0bdb.js"><link rel="prefetch" href="/assets/js/66.25d5c24a.js"><link rel="prefetch" href="/assets/js/67.98a05b90.js"><link rel="prefetch" href="/assets/js/68.6797575a.js"><link rel="prefetch" href="/assets/js/69.3c48aaa4.js"><link rel="prefetch" href="/assets/js/7.72cd435d.js"><link rel="prefetch" href="/assets/js/70.c9204003.js"><link rel="prefetch" href="/assets/js/71.c64f2851.js"><link rel="prefetch" href="/assets/js/72.eba533d8.js"><link rel="prefetch" href="/assets/js/73.cccd04e1.js"><link rel="prefetch" href="/assets/js/8.398eb1ea.js"><link rel="prefetch" href="/assets/js/9.c13a85dc.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.b132aabe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7324eb70.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">釉色鸭的笔记</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="万维网" class="dropdown-title"><span class="title">万维网</span> <span class="arrow down"></span></button> <button type="button" aria-label="万维网" class="mobile-dropdown-title"><span class="title">万维网</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/html/html.html" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/web/html/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/web/javascript/JavaScript.html" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/javascript/nodejs.html" class="nav-link">
  Node.js
</a></li></ul></li><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/javascript/Vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/web/javascript/typescript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/web/javascript/WebAssembly.html" class="nav-link">
  WebAssembly
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/addition/json.html" class="nav-link">
  JSON
</a></li><li class="dropdown-subitem"><a href="/addition/vuepress.html" class="nav-link">
  VuePress
</a></li><li class="dropdown-subitem"><a href="/addition/浏览器扩展开发.html" class="nav-link">
  浏览器扩展开发
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机" class="dropdown-title"><span class="title">计算机</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机" class="mobile-dropdown-title"><span class="title">计算机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          语言
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/computer/c/c.html" class="nav-link">
  C
</a></li><li class="dropdown-subitem"><a href="/computer/cpp/cpp.html" class="nav-link">
  C++
</a></li><li class="dropdown-subitem"><a href="/computer/python/python.html" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/computer/Java/java.html" class="nav-link">
  Java
</a></li></ul></li><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/computer/离散数学.html" class="nav-link">
  离散数学
</a></li><li class="dropdown-subitem"><a href="/computer/计算机组成原理.html" class="nav-link">
  计算机组成原理
</a></li><li class="dropdown-subitem"><a href="/computer/计算机网络.html" class="nav-link">
  计算机网络
</a></li><li class="dropdown-subitem"><a href="/computer/数据结构与算法.html" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-subitem"><a href="/computer/操作系统/操作系统.html" class="nav-link">
  操作系统
</a></li></ul></li><li class="dropdown-item"><h4>
          系统
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/computer/操作系统/Linux.html" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/computer/操作系统/HarmonyOS.html" class="nav-link">
  HarmonyOS
</a></li></ul></li><li class="dropdown-item"><h4>
          应用
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/computer/AI/机器学习.html" class="nav-link">
  机器学习
</a></li><li class="dropdown-subitem"><a href="/computer/数据库/数据库应用.html" class="nav-link">
  数据库应用
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="物理学" class="dropdown-title"><span class="title">物理学</span> <span class="arrow down"></span></button> <button type="button" aria-label="物理学" class="mobile-dropdown-title"><span class="title">物理学</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/physics/力学.html" class="nav-link">
  力学
</a></li><li class="dropdown-subitem"><a href="/physics/热学.html" class="nav-link">
  热学
</a></li><li class="dropdown-subitem"><a href="/physics/电磁学.html" class="nav-link">
  电磁学
</a></li><li class="dropdown-subitem"><a href="/physics/光学.html" class="nav-link">
  光学
</a></li><li class="dropdown-subitem"><a href="/physics/原子物理.html" class="nav-link">
  原子物理
</a></li></ul></li><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/physics/分析力学.html" class="nav-link">
  经典力学
</a></li><li class="dropdown-subitem"><a href="/physics/量子力学/量子力学1.html" class="nav-link">
  量子力学
</a></li><li class="dropdown-subitem"><a href="/physics/电动力学.html" class="nav-link">
  电动力学
</a></li><li class="dropdown-subitem"><a href="/physics/热力学与统计物理/热力学与统计物理1.html" class="nav-link">
  热力学与统计物理
</a></li></ul></li><li class="dropdown-item"><h4>
          数学
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/physics/math/数学分析.html" class="nav-link">
  数学分析
</a></li><li class="dropdown-subitem"><a href="/physics/math/线性代数.html" class="nav-link">
  线性代数
</a></li><li class="dropdown-subitem"><a href="/physics/math/概率论与数理统计.html" class="nav-link">
  概率论与数理统计
</a></li><li class="dropdown-subitem"><a href="/physics/math/数学物理方法.html" class="nav-link">
  数学物理方法
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="电子信息" class="dropdown-title"><span class="title">电子信息</span> <span class="arrow down"></span></button> <button type="button" aria-label="电子信息" class="mobile-dropdown-title"><span class="title">电子信息</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          电子
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/electronics/电路分析.html" class="nav-link">
  电路分析
</a></li><li class="dropdown-subitem"><a href="/electronics/模拟电子技术.html" class="nav-link">
  模拟电子技术
</a></li><li class="dropdown-subitem"><a href="/electronics/数字电子技术.html" class="nav-link">
  数字电子技术
</a></li><li class="dropdown-subitem"><a href="/electronics/数字信号处理.html" class="nav-link">
  数字信号处理
</a></li></ul></li><li class="dropdown-item"><h4>
          通信
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/communication/通信原理.html" class="nav-link">
  通信原理
</a></li><li class="dropdown-subitem"><a href="/communication/信号与系统.html" class="nav-link">
  信号与系统
</a></li><li class="dropdown-subitem"><a href="/communication/信息论与编码.html" class="nav-link">
  信息论与编码
</a></li><li class="dropdown-subitem"><a href="/communication/电磁波与电磁场.html" class="nav-link">
  电磁波与电磁场
</a></li><li class="dropdown-subitem"><a href="/communication/微波技术与天线.html" class="nav-link">
  微波技术与天线
</a></li></ul></li><li class="dropdown-item"><h4>
          嵌入式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/computer/嵌入式/8051.html" class="nav-link">
  8051单片机
</a></li><li class="dropdown-subitem"><a href="/computer/嵌入式/STM32.html" class="nav-link">
  STM32单片机
</a></li><li class="dropdown-subitem"><a href="/computer/嵌入式/esp32.html" class="nav-link">
  ESP32单片机
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/addition/xml.html" class="nav-link">
  XML
</a></li><li class="dropdown-subitem"><a href="/addition/latex.html" class="nav-link">
  LaTeX
</a></li><li class="dropdown-subitem"><a href="/addition/markdown.html" class="nav-link">
  Markdown
</a></li><li class="dropdown-subitem"><a href="/addition/git.html" class="nav-link">
  Git
</a></li></ul></li><li class="dropdown-item"><h4>
          链接
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://yoseya2410.github.io/Warehouse/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文件仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yoseya2410.github.io/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的项目
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.cnblogs.com/yoseya" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yoseya2410.github.io/me/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于我
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/Yoseya2410" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="万维网" class="dropdown-title"><span class="title">万维网</span> <span class="arrow down"></span></button> <button type="button" aria-label="万维网" class="mobile-dropdown-title"><span class="title">万维网</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/html/html.html" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/web/html/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/web/javascript/JavaScript.html" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          后端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/javascript/nodejs.html" class="nav-link">
  Node.js
</a></li></ul></li><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/javascript/Vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/web/javascript/typescript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/web/javascript/WebAssembly.html" class="nav-link">
  WebAssembly
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/addition/json.html" class="nav-link">
  JSON
</a></li><li class="dropdown-subitem"><a href="/addition/vuepress.html" class="nav-link">
  VuePress
</a></li><li class="dropdown-subitem"><a href="/addition/浏览器扩展开发.html" class="nav-link">
  浏览器扩展开发
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机" class="dropdown-title"><span class="title">计算机</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机" class="mobile-dropdown-title"><span class="title">计算机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          语言
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/computer/c/c.html" class="nav-link">
  C
</a></li><li class="dropdown-subitem"><a href="/computer/cpp/cpp.html" class="nav-link">
  C++
</a></li><li class="dropdown-subitem"><a href="/computer/python/python.html" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/computer/Java/java.html" class="nav-link">
  Java
</a></li></ul></li><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/computer/离散数学.html" class="nav-link">
  离散数学
</a></li><li class="dropdown-subitem"><a href="/computer/计算机组成原理.html" class="nav-link">
  计算机组成原理
</a></li><li class="dropdown-subitem"><a href="/computer/计算机网络.html" class="nav-link">
  计算机网络
</a></li><li class="dropdown-subitem"><a href="/computer/数据结构与算法.html" class="nav-link">
  数据结构与算法
</a></li><li class="dropdown-subitem"><a href="/computer/操作系统/操作系统.html" class="nav-link">
  操作系统
</a></li></ul></li><li class="dropdown-item"><h4>
          系统
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/computer/操作系统/Linux.html" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/computer/操作系统/HarmonyOS.html" class="nav-link">
  HarmonyOS
</a></li></ul></li><li class="dropdown-item"><h4>
          应用
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/computer/AI/机器学习.html" class="nav-link">
  机器学习
</a></li><li class="dropdown-subitem"><a href="/computer/数据库/数据库应用.html" class="nav-link">
  数据库应用
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="物理学" class="dropdown-title"><span class="title">物理学</span> <span class="arrow down"></span></button> <button type="button" aria-label="物理学" class="mobile-dropdown-title"><span class="title">物理学</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/physics/力学.html" class="nav-link">
  力学
</a></li><li class="dropdown-subitem"><a href="/physics/热学.html" class="nav-link">
  热学
</a></li><li class="dropdown-subitem"><a href="/physics/电磁学.html" class="nav-link">
  电磁学
</a></li><li class="dropdown-subitem"><a href="/physics/光学.html" class="nav-link">
  光学
</a></li><li class="dropdown-subitem"><a href="/physics/原子物理.html" class="nav-link">
  原子物理
</a></li></ul></li><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/physics/分析力学.html" class="nav-link">
  经典力学
</a></li><li class="dropdown-subitem"><a href="/physics/量子力学/量子力学1.html" class="nav-link">
  量子力学
</a></li><li class="dropdown-subitem"><a href="/physics/电动力学.html" class="nav-link">
  电动力学
</a></li><li class="dropdown-subitem"><a href="/physics/热力学与统计物理/热力学与统计物理1.html" class="nav-link">
  热力学与统计物理
</a></li></ul></li><li class="dropdown-item"><h4>
          数学
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/physics/math/数学分析.html" class="nav-link">
  数学分析
</a></li><li class="dropdown-subitem"><a href="/physics/math/线性代数.html" class="nav-link">
  线性代数
</a></li><li class="dropdown-subitem"><a href="/physics/math/概率论与数理统计.html" class="nav-link">
  概率论与数理统计
</a></li><li class="dropdown-subitem"><a href="/physics/math/数学物理方法.html" class="nav-link">
  数学物理方法
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="电子信息" class="dropdown-title"><span class="title">电子信息</span> <span class="arrow down"></span></button> <button type="button" aria-label="电子信息" class="mobile-dropdown-title"><span class="title">电子信息</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          电子
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/electronics/电路分析.html" class="nav-link">
  电路分析
</a></li><li class="dropdown-subitem"><a href="/electronics/模拟电子技术.html" class="nav-link">
  模拟电子技术
</a></li><li class="dropdown-subitem"><a href="/electronics/数字电子技术.html" class="nav-link">
  数字电子技术
</a></li><li class="dropdown-subitem"><a href="/electronics/数字信号处理.html" class="nav-link">
  数字信号处理
</a></li></ul></li><li class="dropdown-item"><h4>
          通信
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/communication/通信原理.html" class="nav-link">
  通信原理
</a></li><li class="dropdown-subitem"><a href="/communication/信号与系统.html" class="nav-link">
  信号与系统
</a></li><li class="dropdown-subitem"><a href="/communication/信息论与编码.html" class="nav-link">
  信息论与编码
</a></li><li class="dropdown-subitem"><a href="/communication/电磁波与电磁场.html" class="nav-link">
  电磁波与电磁场
</a></li><li class="dropdown-subitem"><a href="/communication/微波技术与天线.html" class="nav-link">
  微波技术与天线
</a></li></ul></li><li class="dropdown-item"><h4>
          嵌入式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/computer/嵌入式/8051.html" class="nav-link">
  8051单片机
</a></li><li class="dropdown-subitem"><a href="/computer/嵌入式/STM32.html" class="nav-link">
  STM32单片机
</a></li><li class="dropdown-subitem"><a href="/computer/嵌入式/esp32.html" class="nav-link">
  ESP32单片机
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/addition/xml.html" class="nav-link">
  XML
</a></li><li class="dropdown-subitem"><a href="/addition/latex.html" class="nav-link">
  LaTeX
</a></li><li class="dropdown-subitem"><a href="/addition/markdown.html" class="nav-link">
  Markdown
</a></li><li class="dropdown-subitem"><a href="/addition/git.html" class="nav-link">
  Git
</a></li></ul></li><li class="dropdown-item"><h4>
          链接
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://yoseya2410.github.io/Warehouse/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文件仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yoseya2410.github.io/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的项目
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.cnblogs.com/yoseya" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我的博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://yoseya2410.github.io/me/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  关于我
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/Yoseya2410" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>数据库应用（MySQL）</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#安装-mysql" class="sidebar-link">安装 MySQL</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#管理-mysql" class="sidebar-link">管理 MySQL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#启动或关闭-mysql-服务器" class="sidebar-link">启动或关闭 MySQL 服务器</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查看数据库" class="sidebar-link">查看数据库</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查看用户名" class="sidebar-link">查看用户名</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查看字符集" class="sidebar-link">查看字符集</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#注释" class="sidebar-link">注释</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#连接数据库" class="sidebar-link">连接数据库</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#创建数据库" class="sidebar-link">创建数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#使用命令行创建数据库" class="sidebar-link">使用命令行创建数据库</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#删除数据库" class="sidebar-link">删除数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#使用命令行删除数据库" class="sidebar-link">使用命令行删除数据库</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#选择数据库" class="sidebar-link">选择数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#使用命令行选择数据库" class="sidebar-link">使用命令行选择数据库</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#修改数据库" class="sidebar-link">修改数据库</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#数据类型" class="sidebar-link">数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#数值类型" class="sidebar-link">数值类型</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#日期时间类型" class="sidebar-link">日期时间类型</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#字符串类型" class="sidebar-link">字符串类型</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#创建数据表" class="sidebar-link">创建数据表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#复制数据表结构" class="sidebar-link">复制数据表结构</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查看数据表" class="sidebar-link">查看数据表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查看数据库中数据表的名称" class="sidebar-link">查看数据库中数据表的名称</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查看数据表的结构" class="sidebar-link">查看数据表的结构</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查看表的创建语句" class="sidebar-link">查看表的创建语句</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#修改数据表" class="sidebar-link">修改数据表</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#删除数据表" class="sidebar-link">删除数据表</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#存储引擎" class="sidebar-link">存储引擎</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查看支持的存储引擎" class="sidebar-link">查看支持的存储引擎</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#指定表的存储引擎" class="sidebar-link">指定表的存储引擎</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#修改数据表的存储引擎" class="sidebar-link">修改数据表的存储引擎</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#约束" class="sidebar-link">约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#主键" class="sidebar-link">主键</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#外键" class="sidebar-link">外键</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#唯一约束" class="sidebar-link">唯一约束</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#非空约束" class="sidebar-link">非空约束</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#默认值" class="sidebar-link">默认值</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#检查约束" class="sidebar-link">检查约束</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#自增约束" class="sidebar-link">自增约束</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查询数据" class="sidebar-link">查询数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查询表中所有数据" class="sidebar-link">查询表中所有数据</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查询指定字段" class="sidebar-link">查询指定字段</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#条件查询" class="sidebar-link">条件查询</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#多条件查询" class="sidebar-link">多条件查询</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#排序查询" class="sidebar-link">排序查询</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#分组查询" class="sidebar-link">分组查询</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查询去重" class="sidebar-link">查询去重</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#限制查询结果数" class="sidebar-link">限制查询结果数</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#多表查询" class="sidebar-link">多表查询</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#交叉连接" class="sidebar-link">交叉连接</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#内连接" class="sidebar-link">内连接</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#外连接" class="sidebar-link">外连接</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#子查询" class="sidebar-link">子查询</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#联合查询" class="sidebar-link">联合查询</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#插入数据" class="sidebar-link">插入数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#将查询结果插入表中" class="sidebar-link">将查询结果插入表中</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#替换数据" class="sidebar-link">替换数据</a></li></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#更新数据" class="sidebar-link">更新数据</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#删除数据" class="sidebar-link">删除数据</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#视图" class="sidebar-link">视图</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#权限" class="sidebar-link">权限</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#创建用户" class="sidebar-link">创建用户</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#授予权限" class="sidebar-link">授予权限</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#撤销权限" class="sidebar-link">撤销权限</a></li><li class="sidebar-sub-header"><a href="/computer/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8.html#查看权限" class="sidebar-link">查看权限</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="数据库应用-mysql"><a href="#数据库应用-mysql" class="header-anchor">#</a> 数据库应用（MySQL）</h1> <p>数据库（Database）是按照数据结构来组织、存储和管理数据的仓库。MySQL是一种关系型数据库管理系统（RDBMS），采用关系型数据结构，通过像表格一样的结构来表示和管理数据。</p> <p>以下是关系型数据结构的主要特点和概念：</p> <ul><li><strong>表</strong>: 表是关系型数据库中最基本的数据存储单元。每个表由行和列组成，表中的每一行代表一条记录，每一列代表一个属性或字段</li> <li><strong>列</strong>：列定义了表中每个字段的名称和数据类型。每一列代表实体的一个属性，例如在用户表中，可能有 <code>id</code>、<code>name</code>、<code>email</code> 等列。</li> <li><strong>行</strong>：行是表中的一个具体实例，表示一组相关的数据。每一行对应一个实体的各个属性。</li> <li><strong>字段</strong>：在关系型数据库中，字段指表中的一列（字段和列在数据库设计中是同一个概念的不同称呼。）</li> <li><strong>主键</strong>：主键用于标识表中的每一个行，每一行的主键值必须是唯一的，并且不能为空。</li> <li><strong>外键</strong>：外键用于建立表与表之间的关联关系，外键是一个表中的字段，其值引用另一个表的主键。</li> <li><strong>复合键</strong>：是由多个字段组合而成的主键，用于唯一标识表中的每一行记录。当单个字段无法唯一标识表中的记录时，可以使用多个字段的组合来实现唯一性。</li> <li><strong>索引</strong>：索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录。在处理大量数据时可以提高查询的效率。</li></ul> <h2 id="安装-mysql"><a href="#安装-mysql" class="header-anchor">#</a> 安装 MySQL</h2> <p>下载链接：<a href="https://dev.mysql.com/downloads/" target="_blank" rel="noopener noreferrer">MySQL Community Downloads<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="管理-mysql"><a href="#管理-mysql" class="header-anchor">#</a> 管理 MySQL</h2> <h3 id="启动或关闭-mysql-服务器"><a href="#启动或关闭-mysql-服务器" class="header-anchor">#</a> 启动或关闭 MySQL 服务器</h3> <p><strong>在 Windows 系统下启动 MySQL 服务器</strong></p> <div class="language-cmd extra-class"><pre class="language-text"><code>net start mysql
</code></pre></div><p><strong>关闭 MySQL 服务器</strong></p> <div class="language-cmd extra-class"><pre class="language-text"><code>net stop mysql
</code></pre></div><p><strong>在Linux 系统下启动 MySQL 服务器</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> systemctl start mysql
</code></pre></div><p>如果不行可以尝试 <code>sudo service mysql start</code></p> <p><strong>关闭 MySQL 服务器</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> systemctl stop mysql
</code></pre></div><p>或者<code>sudo service mysql stop</code></p> <p><strong>重启 MySQL 服务器</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> systemctl restart mysql
</code></pre></div><p>或者使用 service 命令：<code>sudo service mysql restart</code></p> <p><strong>检查 MySQL 服务器状态</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> systemctl status mysql
</code></pre></div><p>或者使用 service 命令：<code>sudo service mysql status</code></p> <h3 id="查看数据库"><a href="#查看数据库" class="header-anchor">#</a> 查看数据库</h3> <p>列出所有可查看的数据库</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">DATABASES</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="查看用户名"><a href="#查看用户名" class="header-anchor">#</a> 查看用户名</h3> <p>查看所有用户</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">User</span> <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre></div><p>查看用户及其主机信息</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">User</span><span class="token punctuation">,</span> Host <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="查看字符集"><a href="#查看字符集" class="header-anchor">#</a> 查看字符集</h3> <p>这个语句可以查询所有的字符集的名称以及与其对应的默认排序规则和最大字符长度</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span>
</code></pre></div><h2 id="注释"><a href="#注释" class="header-anchor">#</a> 注释</h2> <p>单行注释以 <code>--</code> 或 <code>#</code> 开头，<code>--</code> 后面必须跟一个空格，否则会被误认为是 SQL 命令的一部分</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 创建一个名为 users 的表</span>
<span class="token comment"># 创建一个名为 users 的表</span>
</code></pre></div><p>多行注释以 <code>/*</code> 开头，以 <code>*/</code> 结尾</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">/*
创建一个名为 users 的表
包含 id、name 和 email 字段
*/</span>
</code></pre></div><h2 id="连接数据库"><a href="#连接数据库" class="header-anchor">#</a> 连接数据库</h2> <p>使用命令行连接 MySQL 服务器</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mysql <span class="token parameter variable">-u</span> your_username <span class="token parameter variable">-p</span>
</code></pre></div><p>使用命令行连接远程 MySQL 服务器</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mysql <span class="token parameter variable">-u</span> your_username <span class="token parameter variable">-h</span> remote_host <span class="token parameter variable">-P</span> port <span class="token parameter variable">-p</span>
</code></pre></div><ul><li><code>-u</code> 参数用于指定用户名，参数后的 <code>your_username</code> 表示用户名</li> <li><code>-p</code> 若该用户名设置了密码则应当加上这个参数</li> <li><code>-h</code> 指定远程 MySQL 服务器的地址（IP 地址或域名）<code>remote_host</code> 是服务器地址</li> <li><code>-P</code> 指定 MySQL 服务器的端口号（默认是 3306）<code>port</code> 表示端口号</li></ul> <p><strong>示例</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 连接本地 MySQL服务器</span>
mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p

<span class="token comment">-- 连接 IP 地址为 192.168.1.100 的远程 MySQL 服务器</span>
mysql <span class="token operator">-</span>u root <span class="token operator">-</span>h <span class="token number">192.168</span><span class="token number">.1</span><span class="token number">.100</span> <span class="token operator">-</span>P <span class="token number">3306</span> <span class="token operator">-</span>p
</code></pre></div><h2 id="创建数据库"><a href="#创建数据库" class="header-anchor">#</a> 创建数据库</h2> <p>一般使用 <code>CREATE</code> 命令创建数据库，<code>database_name</code> 为要创建的数据库名称</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> database_name<span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <ol><li>在使用 MySQL 时，每段代码后都要用<code>;</code>结尾</li> <li>在创建和删除数据库时需要最高权限，一般使用 <code>root</code> 用户登录</li></ol></div> <p><strong>数据库创建的基本语法</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> database_name
  <span class="token punctuation">[</span><span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> charset_name<span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">COLLATE</span> collation_name<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>用<code>[]</code>括起来的内容为非必要语句，如果不写则会按照默认情况创建数据库，MySQL 8.0+ 版本默认字符集为 <code>utf8mb4</code>，默认排序规则为 <code>utf8mb4_0900_ai_ci</code></p> <p><strong>示例</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> mydatabase
  <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4
  <span class="token keyword">COLLATE</span> utf8mb4_general_ci<span class="token punctuation">;</span>
</code></pre></div><p>如果所要创建的数据库名称已经存在，执行 <code>CREATE DATABASE</code> 创建数据库将会报错，为了避免报错，可以在语句中添加 <code>IF NOT EXISTS</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> mydatabase<span class="token punctuation">;</span>
</code></pre></div><h3 id="使用命令行创建数据库"><a href="#使用命令行创建数据库" class="header-anchor">#</a> 使用命令行创建数据库</h3> <p><code>mysqladmin</code> 是 MySQL 提供的一个用于执行管理任务的命令行工具。通过 <code>mysqladmin</code> 可以执行各种数据库管理和 MySQL 服务器管理的操作</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mysqladmin <span class="token parameter variable">-u</span> your_username <span class="token parameter variable">-p</span> create database_name
</code></pre></div><ul><li><code>-u</code> 参数用于指定 MySQL 用户名</li> <li><code>your_username</code> 表示用户名</li> <li><code>-p</code> 若该用户名设置了密码则需要添加这个参数</li> <li><code>create</code> 是执行的操作，表示创建数据库</li> <li><code>database_name</code> 是要创建的数据库的名称</li></ul> <p><strong>查看 MySQL 服务器的状态</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>mysqladmin <span class="token parameter variable">-u</span> your_username <span class="token parameter variable">-p</span> status
</code></pre></div><ul><li><code>your_username</code> 表示用户名</li></ul> <h2 id="删除数据库"><a href="#删除数据库" class="header-anchor">#</a> 删除数据库</h2> <p>在删除数据库时需要最高权限，一般使用 <code>root</code> 用户登录。</p> <p>在 SQL 语句中使用 <code>DROP</code> 命令来删除数据库，格式如下：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> database_name
</code></pre></div><ul><li><code>IF EXISTS</code> 是可选语句，用于在创建数据库前先检查数据库是否存在，可以避免因为数据库不存在而引发错误</li> <li><code>database_name</code> 表示所要删除的数据库的名称</li></ul> <p><strong>示例</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 删除指定数据库</span>
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> mydatabase<span class="token punctuation">;</span>

<span class="token comment">-- 删除指定数据库（如果数据库不存在则不会报错）</span>
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> mydatabase<span class="token punctuation">;</span>
</code></pre></div><h3 id="使用命令行删除数据库"><a href="#使用命令行删除数据库" class="header-anchor">#</a> 使用命令行删除数据库</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>mysqladmin <span class="token parameter variable">-u</span> your_username <span class="token parameter variable">-p</span> drop database_name
</code></pre></div><ul><li><code>-u</code> 参数用于指定 MySQL 用户名</li> <li><code>your_username</code> 表示用户名</li> <li><code>-p</code> 若该用户名设置了密码则需要添加这个参数</li> <li><code>drop</code> 是执行的操作，表示删除数据库</li> <li><code>database_name</code> 是要创建的数据库的名称</li></ul> <h2 id="选择数据库"><a href="#选择数据库" class="header-anchor">#</a> 选择数据库</h2> <p>在 MySQL 中可以使用 USE 语句来选择要使用的数据库</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">USE</span> database_name<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>database_name</code> 表示要选择的数据库的名称</li></ul> <p>选择数据库后，后续的所有操作都会在这个选择的数据库中执行</p> <h3 id="使用命令行选择数据库"><a href="#使用命令行选择数据库" class="header-anchor">#</a> 使用命令行选择数据库</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>mysql <span class="token parameter variable">-u</span> your_username <span class="token parameter variable">-p</span> <span class="token parameter variable">-D</span> your_database
</code></pre></div><ul><li><code>-u</code> 参数用于指定 MySQL 用户名</li> <li><code>your_username</code> 表示用户名</li> <li><code>-p</code> 若该用户名设置了密码则需要添加这个参数</li> <li><code>-D</code> 参数用于指定要选择的数据库, <code>your_database</code> 表示要选择的数据库的名称</li></ul> <h2 id="修改数据库"><a href="#修改数据库" class="header-anchor">#</a> 修改数据库</h2> <p>使用 ALTER DATABASE 语句可以修改数据库的字符集和排序规则。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> database_name 
<span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> <span class="token operator">=</span> charset_name 
<span class="token keyword">COLLATE</span> <span class="token operator">=</span> collation_name<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>database_name</code>：要修改的数据库名称。</li> <li><code>charset_name</code>：新的字符集，例如 <code>utf8mb4</code>。</li> <li><code>collation_name</code>：新的排序规则，例如 <code>utf8mb4_general_ci</code></li></ul> <h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <p>MySQL 支持多种数据类型，大致可以分为三类：数值类型、日期时间类型、字符串类型。</p> <h3 id="数值类型"><a href="#数值类型" class="header-anchor">#</a> 数值类型</h3> <table><thead><tr><th>数据类型</th> <th>大小（bytes）</th> <th>范围（有符号）</th> <th>范围（无符号）</th> <th>说明</th></tr></thead> <tbody><tr><td><code>TINYINT</code></td> <td>1</td> <td>(-128, 127)</td> <td>(0, 255)</td> <td>较小的整数值</td></tr> <tr><td><code>SMALLINT</code></td> <td>2</td> <td>(-32,768, 32,767)</td> <td>(0, 16,777,215)</td> <td>整数值</td></tr> <tr><td><code>MEDIUMINT</code></td> <td>3</td> <td>(-8,388,608, 8,388,607)</td> <td>(0, 16,777,215)</td> <td>整数值</td></tr> <tr><td><code>INT</code></td> <td>4</td> <td>(-2,147,483,648, 2,147,483,647)</td> <td>(0, 4,294,967,295)</td> <td>整数值</td></tr> <tr><td><code>BIGINT</code></td> <td>8</td> <td>(-9,223,372,036,854,775,808, 9,223,372,036,854,775,807)</td> <td>(0, 18,446,744,073,709,551,615)</td> <td>较大的整数值</td></tr> <tr><td><code>FLOAT</code></td> <td>4</td> <td>(-3.402 823 466 E+38, -1.175 494 351 E-38), 0, (1.175 494 351 E-38, 3.402 823 466 351 E+38)</td> <td>0, (1.175 494 351 E-38, 3.402 823 466 E+38)</td> <td>单精度浮点数</td></tr> <tr><td><code>DOUBLE</code></td> <td>8</td> <td>(-1.797,693,134,862,315,7 E+308, -2.225,073,858,507,201,4 E-308), 0, (2.225,073,858,507,201,4 E-308, 1.797,693,134,862,315,7 E+308)</td> <td>0, (2.225,073,858,507,201,4 E-308, 1.797,693,134,862,315,7 E+308)</td> <td>双精度浮点数</td></tr></tbody></table> <ul><li><code>FLOAT</code>和<code>DOUBLE</code>在不指定精度时，默认会按照实际的精度来显示</li></ul> <p><strong>定点浮点数类型</strong>：</p> <ul><li>该类型用 <code>DOUBLE</code> 表示，没有固定的范围，范围由实际的精度决定，常用于表示高精度浮点数</li> <li><code>DOUBLE(M,D)</code> 参数 <code>M</code> 表示有效数字的位数（范围1~65），参数 <code>D</code> 指小数点后的位数（范围0~30且不超出M），不设置参数时默认为<code>DECIMAL(10, 0)</code></li> <li>该类型的数据大小由精度决定，若<code>M</code>大于<code>D</code>，为<code>M+2</code>，否则为<code>D+2</code></li></ul> <h3 id="日期时间类型"><a href="#日期时间类型" class="header-anchor">#</a> 日期时间类型</h3> <table><thead><tr><th>数据类型</th> <th>大小（bytes）</th> <th>范围</th> <th>格式</th> <th>说明</th></tr></thead> <tbody><tr><td>DATE</td> <td>3</td> <td>1000-01-01/9999-12-31</td> <td>YYYY-MM-DD</td> <td>日期值</td></tr> <tr><td>TIME</td> <td>3</td> <td>'-838:59:59'/'838:59:59'</td> <td>HH:MM:SS</td> <td>时间值</td></tr> <tr><td>YEAR</td> <td>1</td> <td>1901/2155</td> <td>YYYY</td> <td>年份值</td></tr> <tr><td>DATETIME</td> <td>8</td> <td>'1000-01-01 00:00:00' 到 '9999-12-31 23:59:59'</td> <td>YYYY-MM-DD hh:mm:ss</td> <td>日期时间值</td></tr> <tr><td>TIMESTAMP</td> <td>4</td> <td>'1970-01-01 00:00:01' UTC 到 '2038-01-19 03:14:07' UTC</td> <td>YYYY-MM-DD hh:mm:ss</td> <td>时间戳</td></tr></tbody></table> <h3 id="字符串类型"><a href="#字符串类型" class="header-anchor">#</a> 字符串类型</h3> <table><thead><tr><th>数据类型</th> <th>范围</th> <th>说明</th></tr></thead> <tbody><tr><td><code>CHAR</code></td> <td>0 ~ 255</td> <td>定长字符串</td></tr> <tr><td><code>VARCHAR</code></td> <td>0 ~ 65,535</td> <td>变长字符串</td></tr> <tr><td><code>TINYBLOB</code></td> <td>0 ~ 255</td> <td>不超过 255 个字符的二进制字符串</td></tr> <tr><td><code>TINYTEXT</code></td> <td>0 ~ 255</td> <td>短文本字符串</td></tr> <tr><td><code>TEXT</code></td> <td>0 ~ 65,535</td> <td>长文本数据</td></tr> <tr><td><code>MEDIUMTEXT</code></td> <td>0 ~ 16,777,215</td> <td>中等长度文本数据</td></tr> <tr><td><code>LONGTEXT</code></td> <td>0 ~ 4,294,967,295</td> <td>极大文本数据</td></tr> <tr><td><code>BLOB</code></td> <td>0 ~ 65,535</td> <td>二进制形式的长文本数据</td></tr> <tr><td><code>MEDIUMBLOB</code></td> <td>0 ~ 16,777,215</td> <td>二进制形式的中等长度文本数据</td></tr> <tr><td><code>LONGBLOB</code></td> <td>0 ~ 4,294,967,295</td> <td>二进制形式的极大文本数据</td></tr></tbody></table> <h4 id="char"><a href="#char" class="header-anchor">#</a> CHAR</h4> <ul><li><code>CHAR(n)</code> 表示定长数据，占用空间是n个字符，n的取值在0~255之间</li> <li>存储的字符串长度不满 n 则右端补足空格，在读出时会自动将右端空格去除</li> <li>存储的字符串长度超过存储范围n，存储不会成功</li></ul> <h4 id="varchar"><a href="#varchar" class="header-anchor">#</a> VARCHAR</h4> <ul><li><code>VARCHAR(n)</code> 表示变长数据，数据占用空间会根据实际字符串长度加1（自动添加一个字符串的结束标志）</li> <li>存储字符串在保存和检索时尾部的空格保留</li></ul> <p><code>CHAR(4)</code>和<code>VARCHAR(4)</code>的实际存储对比:</p> <table><thead><tr><th>值</th> <th>CHAR(4)</th> <th>占用空间</th> <th>VARCHAR (4)</th> <th>占用空间</th></tr></thead> <tbody><tr><td>''</td> <td>'    '</td> <td>4 bytes</td> <td>''</td> <td>1 byte</td></tr> <tr><td>'ab'</td> <td>'ab  '</td> <td>4 bytes</td> <td>'ab'</td> <td>3 bytes</td></tr> <tr><td>'abcd'</td> <td>'abcd'</td> <td>4 bytes</td> <td>'abcd'</td> <td>5 bytes</td></tr> <tr><td>'abcdefgh'</td> <td>'abcd'</td> <td>4 bytes</td> <td>'abcd'</td> <td>5 bytes</td></tr></tbody></table> <p><code>BINARY</code> 和 <code>VARBINARY</code> 类型类似于 <code>CHAR</code> 和 <code>VARCHAR</code>，但它们存储的是二进制字符串而不是非二进制字符串</p> <h4 id="binary"><a href="#binary" class="header-anchor">#</a> BINARY</h4> <ul><li><code>BINARY(n)</code> 指定一个固定长度的二进制字符串，长度为 <code>n</code> 字节。</li> <li>如果存储的值长度小于 <code>n</code>，则会用 <code>\0</code>（零字节）填充到指定长度，如果超过 <code>n</code> 则会在 <code>n</code> 处截断。
存储：无论实际数据长度如何，都会占用 <code>n</code> 字节的存储空间。</li></ul> <h4 id="varbinary"><a href="#varbinary" class="header-anchor">#</a> VARBINARY</h4> <ul><li><code>VARBINARY(n)</code> 类型指定一个可变长度的二进制字符串，最大长度为 <code>n</code> 字节</li> <li>不会进行填充，存储的实际数据长度即为数据本身的长度</li> <li>只占用实际数据长度加 1 或 2 字节的存储空间（用于记录长度信息）</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>数据检索效率：<code>CHAR</code> &gt; <code>VACHAR</code> &gt; <code>TEXT</code>，能不用<code>TEXT</code>就不用<code>TEXT</code>。</p></div> <p><strong>枚举类型</strong>：</p> <ul><li><code>ENUM</code> 是一种字符串类型的对象，其值必须从预定义的列表中选择，且只能选其中一个。</li> <li>一个 <code>ENUM</code> 最多支持 65,535 个元素</li> <li><code>ENUM</code>中的每个值对应一个索引（从 1 开始）</li></ul> <h4 id="语法"><a href="#语法" class="header-anchor">#</a> 语法</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>column_name <span class="token keyword">ENUM</span><span class="token punctuation">(</span><span class="token string">'value1'</span><span class="token punctuation">,</span> <span class="token string">'value2'</span><span class="token punctuation">,</span> <span class="token string">'value3'</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="集合类型"><a href="#集合类型" class="header-anchor">#</a> 集合类型</h4> <ul><li><code>SET</code> 是一种字符串对象，其值是预定义列表中的零个或多个值的组合。</li> <li>每个列的值可以包含多个选项，用逗号分隔。</li> <li>单个 <code>SET</code> 列最多支持 64 个元素</li></ul> <p><strong>语法</strong>：</p> <div class="language-SQL extra-class"><pre class="language-sql"><code>column_name <span class="token keyword">SET</span><span class="token punctuation">(</span><span class="token string">'value1'</span><span class="token punctuation">,</span> <span class="token string">'value2'</span><span class="token punctuation">,</span> <span class="token string">'value3'</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="创建数据表"><a href="#创建数据表" class="header-anchor">#</a> 创建数据表</h2> <p>创建一个数据表最重要的三个信息：</p> <ul><li>表名</li> <li>表字段名（列的名称）</li> <li>定义每个表字段的数据类型（每一列的数据类型）</li></ul> <p><strong>语法</strong>：</p> <p>这是创建一个数据表最基本的数据格式</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">(</span>
    column1 datatype<span class="token punctuation">,</span>
    column2 datatype<span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>table_name</code> 是你要创建的表的名称</li> <li><code>column1</code>, <code>column2</code>, ... 是表中的列名</li> <li><code>datatype</code> 是每个列的数据类型</li></ul> <p><strong>示例</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> users <span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span>
    created_at <span class="token keyword">TIMESTAMP</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">注意</p> <p>创建数据表时定义的每一个字段后都要加 <code>,</code> 最后一行不用加 <code>,</code></p></div> <ol><li>创建一个表名为 users 的数据表</li> <li>创建名为 <code>id</code> 的字段，使用 <code>AUTO_INCREMENT</code> 属性，每次插入新记录时自动递增，将该字段设置为主键(<code>PRIMARY KEY</code>)</li> <li>创建名为 <code>name</code> 的字段，设置该字段数据类型为 <code>VARCHAR</code> 并将最大长度设置为 <code>100</code>，添加 <code>NOT NULL</code> 约束，确保该字段不能为空.</li> <li>创建名为 <code>email</code> 的字段，设置该字段数据类型为 <code>VARCHAR</code> 并将最大长度设置为 <code>255</code>，添加 <code>NOT NULL</code> 约束，确保该字段不能为空；添加 <code>UNIQUE</code> 约束，确保每个邮箱地址在表中是唯一的。</li> <li>创建名为 <code>created_at</code> 的字段，设置该字段数据类型为 <code>TIMESTAMP</code>，用于存储日期和时间，设置默认值为 <code>CURRENT_TIMESTAMP</code></li></ol> <p>通过以上操作创建出的数据表效果：</p> <table><thead><tr><th>id</th> <th>name</th> <th>email</th> <th>created_at</th></tr></thead> <tbody></tbody></table> <p>在创建表时可以通过这种方式设置表的字符集和排序规则</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mytable <span class="token punctuation">(</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_general_ci<span class="token punctuation">;</span>
</code></pre></div><p>也可以通过这种方式设置存储引擎（<code>ENGINE</code>）和编码方式（<code>CHARSET</code>）</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> mytable<span class="token punctuation">(</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre></div><p>在创建数据表时也可以使用 <code>IF NOT EXISTS</code> 语句，避免重复创建或引发错误</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">(</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="复制数据表结构"><a href="#复制数据表结构" class="header-anchor">#</a> 复制数据表结构</h3> <p>这种方式会复制表结构（包括索引、约束等），但不会复制数据。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> new_table <span class="token operator">LIKE</span> original_table<span class="token punctuation">;</span>
</code></pre></div><p>如果需要复制数据可以在新复制的数据表中插入数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> new_table <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> original_table<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>original_table</code>：原数据表</li> <li><code>new_table</code>：新复制的数据表</li></ul> <h2 id="查看数据表"><a href="#查看数据表" class="header-anchor">#</a> 查看数据表</h2> <h3 id="查看数据库中数据表的名称"><a href="#查看数据库中数据表的名称" class="header-anchor">#</a> 查看数据库中数据表的名称</h3> <p><strong>方法一</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">USE</span> 数据库名<span class="token punctuation">;</span> <span class="token comment">-- 先选择数据库</span>
<span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span><span class="token punctuation">;</span> <span class="token comment">-- 查看当前数据库中所有的数据表</span>
</code></pre></div><p><strong>方法二</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span> <span class="token keyword">FROM</span> 数据库名<span class="token punctuation">;</span>
</code></pre></div><h3 id="查看数据表的结构"><a href="#查看数据表的结构" class="header-anchor">#</a> 查看数据表的结构</h3> <p><strong>方法一</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">USE</span> 数据库名<span class="token punctuation">;</span> <span class="token comment">-- 选择数据库</span>
<span class="token keyword">DESC</span> 数据表名 <span class="token comment">-- 查看数据表的结构</span>
</code></pre></div><p><strong>方法二</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token keyword">FROM</span> 数据表名 <span class="token keyword">FROM</span> 数据库名<span class="token punctuation">;</span>
</code></pre></div><h3 id="查看表的创建语句"><a href="#查看表的创建语句" class="header-anchor">#</a> 查看表的创建语句</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">USE</span> 数据库名<span class="token punctuation">;</span> <span class="token comment">-- 选择数据库</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 数据表名<span class="token punctuation">;</span> <span class="token comment">-- 查看数据表的创建语句</span>
</code></pre></div><h2 id="修改数据表"><a href="#修改数据表" class="header-anchor">#</a> 修改数据表</h2> <p>使用 <code>ALTER TABLE</code> 语句修改数据表原有的结构</p> <p><strong>添加字段</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> col data_type<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>table_name</code>：数据表名称</li> <li><code>data_type</code>：数据类型</li> <li><code>col</code>：要添加的字段</li></ul> <p><strong>修改字段数据类型</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> col data_type<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>table_name</code>：数据表名称</li> <li><code>data_type</code>：数据类型</li> <li><code>col</code>：要修改的字段</li></ul> <p><strong>修改字段名称</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name CHANGE <span class="token keyword">COLUMN</span> old_name new_name <span class="token keyword">INT</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>table_name</code>：数据表名称</li> <li><code>old_name</code>：旧的字段名</li> <li><code>new_name</code>：新的字段名</li></ul> <p><strong>删除字段</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> col<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>table_name</code>：数据表名称</li> <li><code>col</code>：要删除的字段</li></ul> <p><strong>添加主键</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>table_nam</code>e: 数据表名称</li> <li><code>col</code>：要设置的字段</li></ul> <p><strong>删除主键</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>table_name</code>: 数据表名称</li></ul> <p><strong>修改数据表名称</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> old_table <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> new_table<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>old_table</code>：旧的数据表</li> <li><code>new_table</code>：新的数据表</li></ul> <h2 id="删除数据表"><a href="#删除数据表" class="header-anchor">#</a> 删除数据表</h2> <p><strong>语法</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> table_name<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>table_name</code>：要删除的数据表名称。</li> <li><code>IF EXISTS</code>：该语句是可选的，用于检查数据表是否存在。如果表不存在，使用 <code>IF EXISTS</code> 可以避免报错。</li></ul> <p><strong>示例</strong>：</p> <p>删除名为 <code>mytable</code> 的数据表</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> mytable<span class="token punctuation">;</span>
</code></pre></div><p>也可以同时删除多个数据表</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> table1<span class="token punctuation">,</span> table2<span class="token punctuation">,</span> table3<span class="token punctuation">;</span>
</code></pre></div><h2 id="存储引擎"><a href="#存储引擎" class="header-anchor">#</a> 存储引擎</h2> <p>常用的存储引擎对比</p> <table><thead><tr><th>特性</th> <th>InnoDB</th> <th>MyISAM</th> <th>Memory</th></tr></thead> <tbody><tr><td><strong>事务</strong></td> <td>支持</td> <td>不支持</td> <td>不支持</td></tr> <tr><td><strong>锁</strong></td> <td>行级锁</td> <td>表级锁</td> <td>表级锁</td></tr> <tr><td><strong>外键</strong></td> <td>支持</td> <td>不支持</td> <td>不支持</td></tr> <tr><td><strong>崩溃恢复</strong></td> <td>支持</td> <td>不支持</td> <td>不支持</td></tr> <tr><td><strong>全文索引</strong></td> <td>MySQL 5.6+ 支持</td> <td>支持</td> <td>不支持</td></tr></tbody></table> <p><code>InnoDB</code>：适合高并发场景，例如订单支付、实时交易等重要数据
<code>MyISAM</code>：适合存储大量需要快速查找的数据，读取数据效率高，但一次只能一人查找。
<code>Memory</code>：适合临时会话和存储，数据断电丢失</p> <p><strong>什么是锁？锁存在的意义是什么？</strong></p> <p>锁如同十字路口的红绿灯，协调“数据”有序存储，避免出现数据错误，在并发环境下，有序控制资源的访问。<code>MyISAM</code> 和 <code>Memory</code> 使用的是表级锁，在同一时间只能由一个事务操作表，所以不具有并发性，但是比较稳定不会出错；<code>InnoDB</code> 使用的是行级锁，仅锁定当前操作的这一行，可以实现高并发，但有可能会出现死锁（指两个或多个事务在执行过程中，因互相等待对方释放锁，而陷入无限等待的状态）的情况</p> <h3 id="查看支持的存储引擎"><a href="#查看支持的存储引擎" class="header-anchor">#</a> 查看支持的存储引擎</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> ENGINES<span class="token punctuation">;</span> 
</code></pre></div><h3 id="指定表的存储引擎"><a href="#指定表的存储引擎" class="header-anchor">#</a> 指定表的存储引擎</h3> <p>创建一个名为 <code>table_name</code> 的表，该表的存储引擎为 <code>InnoDB</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">(</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="修改数据表的存储引擎"><a href="#修改数据表的存储引擎" class="header-anchor">#</a> 修改数据表的存储引擎</h3> <p>将数据表 <code>table_name</code> 的存储引擎修改为 <code>MyISAM</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM<span class="token punctuation">;</span>
</code></pre></div><h2 id="约束"><a href="#约束" class="header-anchor">#</a> 约束</h2> <h3 id="主键"><a href="#主键" class="header-anchor">#</a> 主键</h3> <p>将某字段设置为主键，主键起唯一标识表中每行数据的作用，主键的值不能为空</p> <p><strong>示例</strong>：</p> <p>将字段 <code>id</code> 设置为主键，一个表中只要一个字段可以为主键，用 <code>PRIMARY KEY</code> 表示</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> users <span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="外键"><a href="#外键" class="header-anchor">#</a> 外键</h3> <ul><li>外键是用于与其他表建立关系的字段</li> <li>外键引用的字段必须是唯一的，通常是另一个表的主键</li> <li>外键可以有多个</li> <li>外键用语句 <code>FOREIGN KEY</code> 表示</li></ul> <p><strong>示例</strong>：</p> <ul><li><code>user_id</code> 当前表的字段</li> <li><code>users</code> 要引用字段所在的表</li> <li><code>id</code> 引用的字段</li></ul> <p>将 <code>user_id</code> 设置为外键，引用数据表 <code>users</code> 中的字段 <code>id</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> orders <span class="token punctuation">(</span>
    order_id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    user_id <span class="token keyword">INT</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>user_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> users<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
        <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span>  <span class="token comment">-- 级联删除关联记录</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>外键的其他操作</strong>：</p> <table><thead><tr><th>操作</th> <th>说明</th></tr></thead> <tbody><tr><td><code>ON DELETE CASCADE</code></td> <td>当主表中的某条记录被删除时，自动删除从表中所有与之关联的记录</td></tr> <tr><td><code>ON DELETE RESTRICT</code></td> <td>阻止删除主表记录（若存在关联从表记录），默认行为</td></tr> <tr><td><code>ON DELETE SET NULL</code></td> <td>主表记录删除时，从表关联字段设为 NULL（字段需允许 NULL 时）</td></tr> <tr><td><code>ON UPDATE CASCADE</code></td> <td>主表主键更新时，从表外键字段同步更新（如修改 users.id 的值时联动）</td></tr></tbody></table> <h3 id="唯一约束"><a href="#唯一约束" class="header-anchor">#</a> 唯一约束</h3> <p>确保字段中的值是唯一的，用 <code>UNIQUE</code> 表示</p> <p><strong>示例</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> employees <span class="token punctuation">(</span>
    email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="非空约束"><a href="#非空约束" class="header-anchor">#</a> 非空约束</h3> <p>要求该字段中的值不能为空，用 <code>NOT NULL</code> 语句表示</p> <p><strong>示例</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> products <span class="token punctuation">(</span>
    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    price <span class="token keyword">DECIMAL</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="默认值"><a href="#默认值" class="header-anchor">#</a> 默认值</h3> <p>插入数据时，若未指定值，自动填充默认值。用 <code>DEFAULT</code> 语句表示</p> <p><strong>示例</strong>：</p> <p>表示如果插入数据时没有指定字段 <code>created_at</code> 的值，将自动使用当前的日期和时间作为默认值。
（<code>CURRENT_TIMESTAMP</code> 是一个 MySQL 中的一个函数，用于表示当前的日期和时间）</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> logs <span class="token punctuation">(</span>
    created_at <span class="token keyword">TIMESTAMP</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="检查约束"><a href="#检查约束" class="header-anchor">#</a> 检查约束</h3> <p>限制字段中的值的范围，用 <code>CHECK ()</code> 语句表示 <code>()</code> 中的是限制范围</p> <p><strong>示例</strong>：</p> <p>将字段 <code>age</code> 的限制在为小于等于 <code>18</code> 的整数</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> students <span class="token punctuation">(</span>
    age <span class="token keyword">INT</span> <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>age <span class="token operator">&gt;=</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="自增约束"><a href="#自增约束" class="header-anchor">#</a> 自增约束</h3> <p>自动生成唯一递增值（通常与主键搭配），用 <code>AUTO_INCREMENT</code> 语句表示</p> <p><strong>示例</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> items <span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="查询数据"><a href="#查询数据" class="header-anchor">#</a> 查询数据</h2> <p>MySQL 查询数据的语句：</p> <ul><li><code>SELECT</code>：指定要查询的列名称</li> <li><code>FROM</code>：指定要查询的表</li> <li><code>WHERE</code>：指定要查询的条件</li> <li><code>GROUP BY</code>：子句用于对查询结构进行分组</li> <li><code>HAVING</code>：指定分组的条件</li> <li><code>ORDER BY</code>：用于对查询结果的进行排序</li> <li><code>LIMIT</code>：限制查询的输出结果的行数</li></ul> <h3 id="查询表中所有数据"><a href="#查询表中所有数据" class="header-anchor">#</a> 查询表中所有数据</h3> <ul><li><code>SELECT</code> 后面跟着的是要查询的字段</li> <li><code>*</code> 是通配符表示查询所有字段</li> <li><code>FROM</code> 后面跟着的是所查询的数据表</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre></div><h3 id="查询指定字段"><a href="#查询指定字段" class="header-anchor">#</a> 查询指定字段</h3> <p>查询数据表 <code>table_name</code> 中的字段 <code>a</code> 和 <code>b</code> 这两列的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> a<span class="token punctuation">,</span> b <span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre></div><h3 id="条件查询"><a href="#条件查询" class="header-anchor">#</a> 条件查询</h3> <ul><li><code>WHERE</code> 后跟着的是筛选条件</li></ul> <p>查询数据表 table_name 中字段 a 的数据，并筛选出满足条件 c 的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> a <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> c<span class="token punctuation">;</span>
</code></pre></div><p><strong>示例</strong></p> <p>查询标价高于20的产品名称和价格</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> ProductName<span class="token punctuation">,</span> UnitPrice
<span class="token keyword">FROM</span> products
<span class="token keyword">WHERE</span> UnitPrice<span class="token operator">&gt;</span><span class="token number">20</span><span class="token punctuation">;</span>
</code></pre></div><p>查询所有男性雇员的信息（<code>sex</code>是字段名）</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span><span class="token operator">*</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> Sex<span class="token operator">=</span><span class="token string">'男'</span><span class="token punctuation">;</span>
</code></pre></div><p>MySQL 支持算术运算符、比较运算符、逻辑运算符、位运算符</p> <details class="custom-block details"><summary>基本运算符</summary> <p><strong>算数运算符</strong></p> <table><thead><tr><th>运算符</th> <th>说明</th></tr></thead> <tbody><tr><td><code>+</code></td> <td>加法</td></tr> <tr><td><code>-</code></td> <td>减法</td></tr> <tr><td><code>*</code></td> <td>乘法</td></tr> <tr><td><code>/</code>或<code>DIV</code></td> <td>除法</td></tr> <tr><td><code>%</code>或<code>MOD</code></td> <td>取余</td></tr></tbody></table> <p><strong>逻辑运算符</strong></p> <table><thead><tr><th>运算符</th> <th>说明</th></tr></thead> <tbody><tr><td><code>NOT</code>或<code>!</code></td> <td>非</td></tr> <tr><td><code>AND</code>或<code>&amp;&amp;</code></td> <td>与</td></tr> <tr><td><code>OR</code>和<code>| |</code></td> <td>或</td></tr> <tr><td><code>XOR</code></td> <td>异或</td></tr></tbody></table> <p><strong>位运算符</strong></p> <table><thead><tr><th>运算符</th> <th>说明</th> <th>用法</th></tr></thead> <tbody><tr><td><code>\</code></td> <td><code>|</code> 或 位或</td> <td><code>a \| b</code></td></tr> <tr><td><code>&amp;</code></td> <td>位与</td> <td><code>a &amp; b</code></td></tr> <tr><td><code>^</code></td> <td>位异或</td> <td><code>a ^ b</code></td></tr> <tr><td><code>~</code></td> <td>位取反</td> <td><code>~a</code></td></tr> <tr><td><code>&lt;&lt;</code></td> <td>位左移</td> <td><code>a &lt;&lt; b</code></td></tr> <tr><td><code>&gt;&gt;</code></td> <td>位右移</td> <td><code>a &gt;&gt; b</code></td></tr></tbody></table> <table><thead><tr><th>运算符</th> <th>说明</th></tr></thead> <tbody><tr><td><code>=</code></td> <td>等于</td></tr> <tr><td><code>!=</code> 或 <code>&lt;&gt;</code></td> <td>不等于</td></tr> <tr><td><code>&gt;</code></td> <td>大于</td></tr> <tr><td><code>&lt;</code></td> <td>小于</td></tr> <tr><td><code>&gt;=</code></td> <td>大于等于</td></tr> <tr><td><code>&lt;=</code></td> <td>小于等于</td></tr> <tr><td><code>IS NULL</code></td> <td>判断是否为 NULL</td></tr> <tr><td><code>IS NOT NULL</code></td> <td>判断是否不为 NULL</td></tr></tbody></table></details> <h4 id="in"><a href="#in" class="header-anchor">#</a> IN</h4> <p>用于匹配字段值是否在指定的集合中，如果字段值匹配集合中的任意一个值，则返回该行</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> column_name <span class="token operator">IN</span> <span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>示例</strong>：返回所有 department_id 是 10、20 或 30 的员工记录</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees 
<span class="token keyword">WHERE</span> department_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>使用子查询，返回所有部门位于 New York 的员工记录（子查询是嵌套在另一个查询中的查询语句）</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees 
<span class="token keyword">WHERE</span> department_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> departments <span class="token keyword">WHERE</span> location <span class="token operator">=</span> <span class="token string">'New York'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="not-in"><a href="#not-in" class="header-anchor">#</a> NOT IN</h4> <p>若该字段没有指定的集合中的值，则返回该行</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> column_name <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果集合或子查询中包含 <code>NULL</code> ，<code>NOT IN</code> 可能会导致意外的结果，因为 NULL 表示未知值，无法判断，查询结果是要保证没有 <code>NULL</code> 值，或者排除 <code>NULL</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees 
<span class="token keyword">WHERE</span> department_id <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="between-and"><a href="#between-and" class="header-anchor">#</a> BETWEEN AND</h4> <p>判断某个字段值是否在一个闭区间范围内</p> <ul><li><code>value1</code>：区间的起始值</li> <li><code>value</code>2：区间的结束值</li></ul> <p><code>value1 &lt;= column_name &lt;= value2</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> column_name <span class="token operator">BETWEEN</span> value1 <span class="token operator">AND</span> value2<span class="token punctuation">;</span>
</code></pre></div><p><strong>示例</strong></p> <p><strong>示例1</strong>：查询年龄在 20 到 30 岁之间的员工</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees 
<span class="token keyword">WHERE</span> age <span class="token operator">BETWEEN</span> <span class="token number">20</span> <span class="token operator">AND</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre></div><p>等价于</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees 
<span class="token keyword">WHERE</span> age <span class="token operator">&gt;=</span> <span class="token number">20</span> <span class="token operator">AND</span> age <span class="token operator">&lt;=</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>示例2</strong>：查询日期在某个时间段内的记录</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> orders 
<span class="token keyword">WHERE</span> order_date <span class="token operator">BETWEEN</span> <span class="token string">'2024-01-01'</span> <span class="token operator">AND</span> <span class="token string">'2024-12-31'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="not-between-and"><a href="#not-between-and" class="header-anchor">#</a> NOT BETWEEN AND</h4> <p><code>BETWEEN AND</code> 的否定，用于表示字段值不在指定的区间内</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> column_name <span class="token operator">NOT</span> <span class="token operator">BETWEEN</span> value1 <span class="token operator">AND</span> value2<span class="token punctuation">;</span>
</code></pre></div><p>等价于</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> column_name <span class="token operator">&lt;</span> value1 <span class="token operator">OR</span> column_name <span class="token operator">&gt;</span> value2
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <ul><li><code>BETWEEN</code> 可用于数值、日期、字符串等类型，但要确保字段和比较值的类型一致</li> <li><code>BETWEEN 'A' AND 'Z'</code> 是有效的，而 <code>BETWEEN 'Z' AND 'A'</code> 会返回空结果</li> <li>如果字段为 <code>NULL</code>，<code>BETWEEN</code> 和 <code>NOT BETWEEN</code> 都不会匹配它</li></ul></div> <h4 id="is-null"><a href="#is-null" class="header-anchor">#</a> IS NULL</h4> <p>由于 NULL 表示“未知”或“无值”，它不能通过普通的比较运算符（如 =、!=）来判断，必须使用 <code>IS NULL</code> 或 <code>IS NOT NULL</code></p> <ul><li>不能用 <code>WHERE column = NULL</code> 来判断，必须使用 <code>WHERE column IS NULL</code></li> <li><code>COUNT(*)</code> 包含 <code>NULL</code></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> column_name <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="is-not-null"><a href="#is-not-null" class="header-anchor">#</a> IS NOT NULL</h4> <p>用于筛选出字段值不为 <code>NULL</code> 的记录</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> column_name <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="like"><a href="#like" class="header-anchor">#</a> LIKE</h4> <p>用于模糊匹配字符串的逻辑运算符</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> column_name <span class="token operator">LIKE</span> pattern<span class="token punctuation">;</span>
</code></pre></div><p><strong>通配符</strong></p> <table><thead><tr><th>通配符</th> <th>说明</th></tr></thead> <tbody><tr><td><code>%</code></td> <td>匹配任意数量的字符（包括零个或多个字符）</td></tr> <tr><td><code>_</code></td> <td>匹配任意一个字符</td></tr></tbody></table> <p><strong>示例</strong></p> <p><strong>示例1</strong>：查询名字以 &quot;A&quot; 开头的用户</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users 
<span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'A%'</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>示例2</strong>：查询名字是 5 个字母的用户</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users 
<span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'_____'</span> <span class="token punctuation">;</span> <span class="token comment">-- 五个下划线</span>
</code></pre></div><h4 id="not-like"><a href="#not-like" class="header-anchor">#</a> NOT LIKE</h4> <p>LIKE 的否定，用于匹配字段值不符合指定的规则的行</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> column_name <span class="token operator">NOT</span> <span class="token operator">LIKE</span> pattern<span class="token punctuation">;</span>
</code></pre></div><p><strong>示例</strong>：查询名字不以 &quot;A&quot; 开头的用户</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users 
<span class="token keyword">WHERE</span> name <span class="token operator">NOT</span> <span class="token operator">LIKE</span> <span class="token string">'A%'</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <ul><li>默认情况下 <code>LIKE</code> 不区分大小写，若需区分大小写，可使用 <code>BINARY</code> 模式或 <code>utf8mb4_bin</code> 排序规则</li> <li>如果需要匹配存在 <code>%</code> 或 <code>_</code> 字符时会被误以为成通配符，可以使用 <code>ESCAPE</code> 关键字进行转义，例如：<code>LIKE '10\%' ESCAPE '\'</code> 表示匹配 <code>&quot;10%&quot;</code></li></ul></div> <h4 id="regexp"><a href="#regexp" class="header-anchor">#</a> REGEXP</h4> <p><code>REGEXP</code> 可以通过正则表达式进行匹配，相比 <code>LIKE</code> 运算符 <code>REGEXP</code> 提供了更强大、灵活的模式匹配能力</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> column_name <span class="token operator">REGEXP</span> <span class="token string">'pattern'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>这里的 <code>pattern</code> 指正则表达式</li></ul> <p><strong>正则表达式常见符号</strong></p> <table><thead><tr><th>符号</th> <th>含义</th></tr></thead> <tbody><tr><td><code>^</code></td> <td>匹配字符串的开始位置</td></tr> <tr><td><code>$</code></td> <td>匹配字符串的结束位置</td></tr> <tr><td><code>.</code></td> <td>匹配任意一个字符</td></tr> <tr><td><code>*</code></td> <td>匹配前面的字符 0 次或多次</td></tr> <tr><td><code>+</code></td> <td>匹配前面的字符 1 次或多次</td></tr> <tr><td><code>?</code></td> <td>匹配前面的字符 0 次或 1 次</td></tr> <tr><td><code>[abc]</code></td> <td>匹配括号中的任意一个字符（如 a、b 或 c）</td></tr> <tr><td><code>[^abc]</code></td> <td>不匹配括号中的任意一个字符</td></tr> <tr><td><code>[a-z]</code></td> <td>匹配指定范围内的任意一个字符（如 a 到 z）</td></tr></tbody></table> <p><strong>示例</strong></p> <p><strong>示例1</strong>：查询以 &quot;A&quot; 开头的名字</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users 
<span class="token keyword">WHERE</span> name <span class="token operator">REGEXP</span> <span class="token string">'^A'</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>示例2</strong>：查询以 &quot;son&quot; 结尾的名字</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users 
<span class="token keyword">WHERE</span> name <span class="token operator">REGEXP</span> <span class="token string">'son$'</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>示例3</strong>：查询包含数字的名字</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users 
<span class="token keyword">WHERE</span> name <span class="token operator">REGEXP</span> <span class="token string">'[0-9]'</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>示例4</strong>：查询包含 &quot;Li&quot; 或 &quot;Wang&quot; 的名字</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users 
<span class="token keyword">WHERE</span> name <span class="token operator">REGEXP</span> <span class="token string">'Li|Wang'</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>示例5</strong>：查询长度为 5 个字母的名字</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users 
<span class="token keyword">WHERE</span> name <span class="token operator">REGEXP</span> <span class="token string">'^[A-Za-z]{5}$'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="多条件查询"><a href="#多条件查询" class="header-anchor">#</a> 多条件查询</h3> <p>多条件查询指的是使用多个条件来过滤数据，可以通过 WHERE 使用逻辑运算符（如 AND、OR、NOT）实现</p> <p><strong>使用 <code>AND</code> 进行多条件查询</strong></p> <p>示例：查询部门为 &quot;HR&quot; 且工资大于 5000 的员工</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees 
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'HR'</span> <span class="token operator">AND</span> salary <span class="token operator">&gt;</span> <span class="token number">5000</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>使用 <code>OR</code> 进行多条件查询</strong></p> <p>示例：查询部门为 &quot;HR&quot; 或 &quot;Finance&quot; 的员工</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees 
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'HR'</span> <span class="token operator">OR</span> department <span class="token operator">=</span> <span class="token string">'Finance'</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>可以使用括号 <code>( )</code> 来控制条件的优先级</strong></p> <p>示例：查询部门为 &quot;HR&quot; 且工资大于 5000 的员工，或者部门为 &quot;IT&quot; 的员工</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees 
<span class="token keyword">WHERE</span> <span class="token punctuation">(</span>department <span class="token operator">=</span> <span class="token string">'HR'</span> <span class="token operator">AND</span> salary <span class="token operator">&gt;</span> <span class="token number">5000</span><span class="token punctuation">)</span> <span class="token operator">OR</span> department <span class="token operator">=</span> <span class="token string">'IT'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="排序查询"><a href="#排序查询" class="header-anchor">#</a> 排序查询</h3> <ul><li><code>ORDER BY</code> 是排序语句，<code>ASC</code> 表示升序排序，<code>DESC</code> 表示降序排序</li> <li><code>column</code> 是指定的字段，按该列的值进行排序</li></ul> <p><strong>语法</strong>：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token keyword">column</span> <span class="token punctuation">[</span><span class="token keyword">ASC</span> <span class="token operator">|</span> <span class="token keyword">DESC</span><span class="token punctuation">]</span>
</code></pre></div><p><strong>示例</strong>：</p> <p>查询数据表 <code>table_name</code> 中的所有数据，按照字段 <code>column2</code> 升序排序查询结果</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column2 <span class="token keyword">ASC</span><span class="token punctuation">;</span>
</code></pre></div><p>查询数据表 <code>table_name</code> 中的字段 <code>column1</code> 的数据，按照字段 <code>column2</code> 降序排序查询结果</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1 <span class="token keyword">FROM</span> table_name 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column2 <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="分组查询"><a href="#分组查询" class="header-anchor">#</a> 分组查询</h3> <p><code>GROUP BY</code> 分组查询常用于分类统计，例如计算每个类别的总数、平均值、最大值、最小值等</p> <ul><li><code>column1</code>:：所要查询的字段</li> <li><code>column2</code>：查询是会根据 column2 进行分组</li> <li><code>table_name</code>：所要查询的数据表</li> <li><code>COUNT(*)</code> 表示每个分组中的对象数（行数）</li></ul> <p>查询数据表 table_name 中的字段 <code>column1</code> 和每个分组中的行数 <code>COUNT(*)</code>，按照字段 <code>column2</code> 进行分组</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> column2<span class="token punctuation">;</span>
</code></pre></div><h4 id="having"><a href="#having" class="header-anchor">#</a> HAVING</h4> <p><code>HAVING</code> 子句用于对分组后的结果进行过滤，通常与 <code>GROUP BY</code> 一起使用。它的作用类似于 <code>WHERE</code> 子句，但 <code>WHERE</code> 是在分组前对记录进行过滤，而 <code>HAVING</code> 是在分组后对聚合结果进行过滤</p> <p><strong>示例</strong></p> <p>对部门进行分组，并统计每个部门的员工数量，只返回员工数大于 5 的部门</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> department<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> num_employees
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department
<span class="token keyword">HAVING</span> num_employees <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="查询去重"><a href="#查询去重" class="header-anchor">#</a> 查询去重</h3> <p><code>DISTINCT</code> 是一个用于去除重复记录的关键字，通常与 <code>SELECT</code> 语句一起使用</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> column_name <span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>column_name</code> 是需要去重的列</li></ul> <h4 id="单列去重"><a href="#单列去重" class="header-anchor">#</a> 单列去重</h4> <p>查询表 <code>employees</code> 中所有不同的部门名称，去除重复值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> department <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><h4 id="多列去重"><a href="#多列去重" class="header-anchor">#</a> 多列去重</h4> <p>查询表 <code>employees</code> 不同部门和职位的组合，只有 <code>department</code> 和 <code>position</code> 当两个字段值都相同时才视为重复</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> department<span class="token punctuation">,</span> position <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>DISTINCT</code> 会将多个 <code>NULL</code> 被视为相同的值并只保留一个</li></ul> <h3 id="限制查询结果数"><a href="#限制查询结果数" class="header-anchor">#</a> 限制查询结果数</h3> <p>LIMIT 是一个用于限制查询结果返回行数的关键字，常用于仅获取前几条记录的场景</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> table_name 
<span class="token keyword">WHERE</span> condition <span class="token keyword">LIMIT</span> number<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>number</code> 指定返回的最大行数</li></ul> <h3 id="多表查询"><a href="#多表查询" class="header-anchor">#</a> 多表查询</h3> <p>当所要查询的信息来自不同的表时，就需要将相关的数据整合在一起查询，这个整合的过程就叫做连接，连接大致分为三种：</p> <ul><li>交叉连接 <code>CROSS JOIN</code></li> <li>内连接 <code>INNER JOIN</code></li> <li>外连接 <code>OUTER JOIN</code>（包括左连接 <code>LEFT JOIN</code> 、右连接 <code>RIGHT JOIN</code>、全外连接 <code>FULL JOIN</code>）</li></ul> <h4 id="表别名"><a href="#表别名" class="header-anchor">#</a> 表别名</h4> <p>为了查询时方便，可以给表设置一个更简短或语义化的名称，方便查询时使用</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 列名
<span class="token keyword">FROM</span> 表名 <span class="token keyword">AS</span> 别名<span class="token punctuation">;</span>
</code></pre></div><p><strong>示例</strong></p> <p>原始查询：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> users<span class="token punctuation">.</span>name<span class="token punctuation">,</span> departments<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span> users
<span class="token keyword">JOIN</span> departments <span class="token keyword">ON</span> users<span class="token punctuation">.</span>department_id <span class="token operator">=</span> departments<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre></div><p>使用表别名后：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> u<span class="token punctuation">.</span>name<span class="token punctuation">,</span> d<span class="token punctuation">.</span>department_name
<span class="token keyword">FROM</span> users <span class="token keyword">AS</span> u
<span class="token keyword">JOIN</span> departments <span class="token keyword">AS</span> d <span class="token keyword">ON</span> u<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>u</code> 是 <code>users</code> 表的别名</li> <li><code>d</code> 是 <code>departments</code> 表的别名</li></ul> <p>除了表别名列也可以设置别名，例如</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>employee_name <span class="token keyword">AS</span> <span class="token string">&quot;员工姓名&quot;</span><span class="token punctuation">,</span> 
       d<span class="token punctuation">.</span>department_name <span class="token keyword">AS</span> <span class="token string">&quot;部门名称&quot;</span>
<span class="token keyword">FROM</span> employees <span class="token keyword">AS</span> e
<span class="token keyword">JOIN</span> departments <span class="token keyword">AS</span> d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>department_id <span class="token operator">=</span> d<span class="token punctuation">.</span>department_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="交叉连接"><a href="#交叉连接" class="header-anchor">#</a> 交叉连接</h3> <p><code>CROSS JOIN</code> 交叉连接的结果是两个表的笛卡尔积，即第一个表的每一行与第二个表的每一行组合</p> <p><strong>语法</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段名
<span class="token keyword">FROM</span> 表<span class="token number">1</span>
<span class="token keyword">CROSS</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span><span class="token punctuation">;</span>
</code></pre></div><p>或者用跟简单的写法</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段名
<span class="token keyword">FROM</span> 表<span class="token number">1</span><span class="token punctuation">,</span> 表<span class="token number">2</span><span class="token punctuation">;</span>
</code></pre></div><details class="custom-block details"><summary>示例</summary> <p>表1：学生表</p> <table><thead><tr><th>学号</th> <th>姓名</th> <th>系别</th></tr></thead> <tbody><tr><td>1001</td> <td>李勇</td> <td>信息系</td></tr> <tr><td>3111</td> <td>刘晨</td> <td>信息系</td></tr> <tr><td>3220</td> <td>王敏</td> <td>会计系</td></tr></tbody></table> <p>表2：成绩表</p> <table><thead><tr><th>学号</th> <th>课程号</th> <th>成绩</th></tr></thead> <tbody><tr><td>1001</td> <td>R001</td> <td>95</td></tr> <tr><td>1001</td> <td>S066</td> <td>80</td></tr> <tr><td>3111</td> <td>R001</td> <td>55</td></tr></tbody></table> <p>将表1和表2交叉连接后的结果：（两表的笛卡尔积）</p> <table><thead><tr><th>学号</th> <th>姓名</th> <th>系别</th> <th>学号</th> <th>课程号</th> <th>成绩</th></tr></thead> <tbody><tr><td>1001</td> <td>李勇</td> <td>信息系</td> <td>1001</td> <td>R001</td> <td>95</td></tr> <tr><td>1001</td> <td>李勇</td> <td>信息系</td> <td>1001</td> <td>S066</td> <td>80</td></tr> <tr><td>1001</td> <td>李勇</td> <td>信息系</td> <td>3111</td> <td>R001</td> <td>55</td></tr> <tr><td>3111</td> <td>刘晨</td> <td>信息系</td> <td>1001</td> <td>R001</td> <td>95</td></tr> <tr><td>3111</td> <td>刘晨</td> <td>信息系</td> <td>1001</td> <td>S066</td> <td>80</td></tr> <tr><td>3111</td> <td>刘晨</td> <td>信息系</td> <td>3111</td> <td>R001</td> <td>55</td></tr> <tr><td>3220</td> <td>王敏</td> <td>会计系</td> <td>1001</td> <td>R001</td> <td>95</td></tr> <tr><td>3220</td> <td>王敏</td> <td>会计系</td> <td>1001</td> <td>S066</td> <td>80</td></tr> <tr><td>3220</td> <td>王敏</td> <td>会计系</td> <td>3111</td> <td>R001</td> <td>55</td></tr></tbody></table> <p>交叉连接后的结果并非符合实际情况，如下，两表连接后学号出现不一致的情况</p> <table><thead><tr><th>学号</th> <th>姓名</th> <th>系别</th> <th>学号</th> <th>课程号</th> <th>成绩</th></tr></thead> <tbody><tr><td>1001</td> <td>李勇</td> <td>信息系</td> <td>3111</td> <td>R001</td> <td>55</td></tr></tbody></table> <p>所以我们要用 <code>WHERE</code> 语句对结果进行筛选，使其只输出符合实际情况的结果</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">WHERE</span> 学生表<span class="token punctuation">.</span>学号 <span class="token operator">=</span> 成绩表<span class="token punctuation">.</span>学号<span class="token punctuation">;</span>
</code></pre></div></details> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>利用交叉连接时，是先进行元组连接再进行条件筛选，效率较低；这时可以用内连接的方式，边连接边过滤，提高效率。</p></div> <h3 id="内连接"><a href="#内连接" class="header-anchor">#</a> 内连接</h3> <p><code>INNER JOIN</code> 返回两个表中满足连接条件的所有行的组合。</p> <ol><li>从第一个表中取出每一行</li> <li>根据连接条件查找第二个表中的匹配行</li> <li>对于两表匹配的行进行组合，输出一行结果</li></ol> <p>如果某行在其中一个表中没有匹配的行，则该行不会出现在结果中。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段名
<span class="token keyword">FROM</span> table1
<span class="token punctuation">[</span><span class="token keyword">INNER</span><span class="token punctuation">]</span> <span class="token keyword">JOIN</span> table2 <span class="token keyword">ON</span> table1<span class="token punctuation">.</span>列 <span class="token operator">=</span> table2<span class="token punctuation">.</span>列<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>INNER</code> 关键字可以省略，直接写 <code>JOIN</code> 默认为内连接</li> <li>只有当连接条件 (<code>ON</code> 子句) 满足时，才会返回结果</li> <li>通常使用主键-外键关系作为连接条件</li></ul> <p>内连接中允许自连接的情况，就是同一张表进行连接，通常用于查询同一张表中各个记录之间的关系</p> <p>例如：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>emp_id <span class="token keyword">AS</span> <span class="token string">'员工ID'</span><span class="token punctuation">,</span>
       e<span class="token punctuation">.</span>emp_name <span class="token keyword">AS</span> <span class="token string">'员工姓名'</span><span class="token punctuation">,</span>
       m<span class="token punctuation">.</span>emp_id <span class="token keyword">AS</span> <span class="token string">'主管ID'</span><span class="token punctuation">,</span>
       m<span class="token punctuation">.</span>emp_name <span class="token keyword">AS</span> <span class="token string">'主管姓名'</span>
<span class="token keyword">FROM</span> employees e
<span class="token keyword">JOIN</span> employees m <span class="token keyword">ON</span> e<span class="token punctuation">.</span>manager_id <span class="token operator">=</span> m<span class="token punctuation">.</span>emp_id<span class="token punctuation">;</span>
</code></pre></div><p>查询结果：</p> <table><thead><tr><th>员工ID</th> <th>员工姓名</th> <th>主管ID</th> <th>主管姓名</th></tr></thead> <tbody><tr><td>1002</td> <td>张三</td> <td>1001</td> <td>王经理</td></tr> <tr><td>1003</td> <td>李四</td> <td>1001</td> <td>王经理</td></tr> <tr><td>1004</td> <td>赵五</td> <td>1002</td> <td>张三</td></tr> <tr><td>1005</td> <td>钱六</td> <td>1002</td> <td>张三</td></tr> <tr><td>1006</td> <td>孙七</td> <td>1003</td> <td>李四</td></tr></tbody></table> <h3 id="外连接"><a href="#外连接" class="header-anchor">#</a> 外连接</h3> <p>外连接分为以下三种</p> <ul><li>左连接：<code>LEFT JOIN</code> 保留左表所有记录，匹配的右表记录并连接</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 列名
<span class="token keyword">FROM</span> 表<span class="token number">1</span>
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 表<span class="token number">1.</span>列 <span class="token operator">=</span> 表<span class="token number">2.</span>列<span class="token punctuation">;</span>
</code></pre></div><ul><li>右连接：<code>RIGHT JOIN</code> 保留右表所有记录，匹配的左表记录并连接</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 列名
<span class="token keyword">FROM</span> 表<span class="token number">1</span>
<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 表<span class="token number">1.</span>列 <span class="token operator">=</span> 表<span class="token number">2.</span>列<span class="token punctuation">;</span>
</code></pre></div><ul><li>全外连接：<code>FULL JOIN</code> 连接时保留两表所有记录</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 列名
<span class="token keyword">FROM</span> 表<span class="token number">1</span>
<span class="token keyword">FULL</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 表<span class="token number">1.</span>列 <span class="token operator">=</span> 表<span class="token number">2.</span>列<span class="token punctuation">;</span>
</code></pre></div><p>为了方便理解外连接中的三种不同连接方式之间的区别，接下来将使用以下两个表举例说明</p> <p>表1：学生表</p> <table><thead><tr><th>student_id</th> <th>name</th></tr></thead> <tbody><tr><td>1</td> <td>张三</td></tr> <tr><td>2</td> <td>李四</td></tr> <tr><td>3</td> <td>王五</td></tr></tbody></table> <p>表2：课程表</p> <table><thead><tr><th>course_id</th> <th>course_name</th> <th>student_id</th></tr></thead> <tbody><tr><td>101</td> <td>数学</td> <td>1</td></tr> <tr><td>102</td> <td>英语</td> <td>2</td></tr> <tr><td>103</td> <td>物理</td> <td>4</td></tr></tbody></table> <p><strong>左连接</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>name<span class="token punctuation">,</span> c<span class="token punctuation">.</span>course_name 
<span class="token keyword">FROM</span> students s
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> courses c <span class="token keyword">ON</span> s<span class="token punctuation">.</span>student_id <span class="token operator">=</span> c<span class="token punctuation">.</span>student_id<span class="token punctuation">;</span>
</code></pre></div><p>结果：</p> <table><thead><tr><th>name</th> <th>course_name</th></tr></thead> <tbody><tr><td>张三</td> <td>数学</td></tr> <tr><td>李四</td> <td>英语</td></tr> <tr><td>王五</td> <td>NULL</td></tr></tbody></table> <p><strong>右连接</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>name<span class="token punctuation">,</span> c<span class="token punctuation">.</span>course_name 
<span class="token keyword">FROM</span> students s
<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> courses c <span class="token keyword">ON</span> s<span class="token punctuation">.</span>student_id <span class="token operator">=</span> c<span class="token punctuation">.</span>student_id<span class="token punctuation">;</span>
</code></pre></div><p>结果：</p> <table><thead><tr><th>name</th> <th>course_name</th></tr></thead> <tbody><tr><td>张三</td> <td>数学</td></tr> <tr><td>李四</td> <td>英语</td></tr> <tr><td>NULL</td> <td>物理</td></tr></tbody></table> <p><strong>全外连接</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>name<span class="token punctuation">,</span> c<span class="token punctuation">.</span>course_name 
<span class="token keyword">FROM</span> students s
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> courses c <span class="token keyword">ON</span> s<span class="token punctuation">.</span>student_id <span class="token operator">=</span> c<span class="token punctuation">.</span>student_id
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>name<span class="token punctuation">,</span> c<span class="token punctuation">.</span>course_name 
<span class="token keyword">FROM</span> students s
<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> courses c <span class="token keyword">ON</span> s<span class="token punctuation">.</span>student_id <span class="token operator">=</span> c<span class="token punctuation">.</span>student_id
<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>student_id <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div><p>结果：</p> <table><thead><tr><th>name</th> <th>course_name</th></tr></thead> <tbody><tr><td>张三</td> <td>数学</td></tr> <tr><td>李四</td> <td>英语</td></tr> <tr><td>王五</td> <td>NULL</td></tr> <tr><td>NULL</td> <td>物理</td></tr></tbody></table> <h3 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h3> <p>子查询是指嵌套在其他 SQL 查询中的查询语句</p> <p><strong>语法</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1 
<span class="token keyword">FROM</span> table1 
<span class="token keyword">WHERE</span> column2 <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> column2 <span class="token keyword">FROM</span> table2 <span class="token keyword">WHERE</span> condition<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>通常用于以下场景：</p> <ol><li><code>WHERE</code> 子句中的子查询：作为过滤条件</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询工资高于平均工资的员工</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees 
<span class="token keyword">WHERE</span> salary <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li><code>FROM</code> 子句中的子查询：作为临时表</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询每个部门的平均工资</span>
<span class="token keyword">SELECT</span> dept_id<span class="token punctuation">,</span> avg_salary 
<span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> dept_id<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">AS</span> avg_salary <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> dept_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li><code>SELECT</code> 子句中的子查询：作为返回的值</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 显示员工姓名及其部门人数</span>
<span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> 
       <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees e2 <span class="token keyword">WHERE</span> e2<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> e1<span class="token punctuation">.</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">AS</span> dept_count
<span class="token keyword">FROM</span> employees e1<span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li><code>EXISTS</code> 或 <code>NOT EXISTS</code> 子查询：检查子查询是否返回结果</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询有订单的客户</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> customers c 
<span class="token keyword">WHERE</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token number">1</span> <span class="token keyword">FROM</span> orders o <span class="token keyword">WHERE</span> o<span class="token punctuation">.</span>customer_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果子查询无匹配值则主查询不会返回任何行，<code>NOT EXISTS</code> 反之亦然</p> <h3 id="联合查询"><a href="#联合查询" class="header-anchor">#</a> 联合查询</h3> <p>联合查询就是将多个查询结果合并成一个结果集。使用联合查询需要满足以下条件：</p> <ul><li>两个查询必须具有相同数量的字段</li> <li>字段排列顺序必须相同</li> <li>对应列的数据类型必须兼容</li> <li>各结果的字段名可以不同，但结果集会使用第一个查询结果的字段名</li></ul> <p><strong>语法</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> table1
<span class="token keyword">UNION</span> <span class="token punctuation">[</span><span class="token keyword">ALL</span><span class="token punctuation">]</span>
<span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> table2
<span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p><code>UNION</code> 会自动去除重复行，<code>UNION ALL</code> 会保留所有行（包括重复的）</p></div> <h2 id="插入数据"><a href="#插入数据" class="header-anchor">#</a> 插入数据</h2> <p>使用 <code>INSERT INTO</code> 向数据表中插入数据</p> <p><strong>语法</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name <span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>(column1, column2, ...)</code> 是要插入数据的字段，关键字 <code>VALUES</code> 后的 <code>(value1, value2, ...)</code> 是插入数据库的数据</li> <li>字段名与字段值的顺序要相同，例如值 <code>value1</code> 对应字段 <code>column1</code>；<code>value2</code> 对应字段 <code>column2</code></li></ul> <p>如果不写字段名则默认为插入所有字段</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name 
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果要一次性插入多行数据可以这样</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> table_name <span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> 
    <span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>value3<span class="token punctuation">,</span> value4<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>插入数据时值可以为空但不能缺少，例如三个字段只插入了两个值</p> <ul><li><code>(value1, value2)</code> 是错误的</li> <li><code>(value1, value2, )</code> 是正确的，由于最后一个值为空，会被设为 <code>NULL</code></li></ul></div> <h3 id="将查询结果插入表中"><a href="#将查询结果插入表中" class="header-anchor">#</a> 将查询结果插入表中</h3> <p>插入其他表中的数据，例如</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> archive_users <span class="token punctuation">(</span>id<span class="token punctuation">,</span> username<span class="token punctuation">,</span> email<span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> username<span class="token punctuation">,</span> email <span class="token keyword">FROM</span> users 
<span class="token keyword">WHERE</span> created_at <span class="token operator">&lt;</span> <span class="token string">'2023-01-01'</span><span class="token punctuation">;</span>
</code></pre></div><p>这段 SQL 语句将 <code>users</code> 表中筛选出来的数据插入了数据表 <code>archive_users</code> 中</p> <h3 id="替换数据"><a href="#替换数据" class="header-anchor">#</a> 替换数据</h3> <p>使用 <code>REPLACE</code> 替换表中的数据，如果插入的记录在数据表中已存在，则执行替换原有数据，如不存在，则执行插入操作</p> <p>示例：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">REPLACE</span> <span class="token keyword">INTO</span> settings <span class="token punctuation">(</span>user_id<span class="token punctuation">,</span> theme<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'dark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="更新数据"><a href="#更新数据" class="header-anchor">#</a> 更新数据</h2> <p>通过 <code>UPDATE</code> 语句实现更新数据表中的数据</p> <p><strong>语法</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> table_name 
<span class="token keyword">SET</span> column1 <span class="token operator">=</span> value1<span class="token punctuation">,</span> column2 <span class="token operator">=</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre></div><ul><li><code>SET</code> 语句用于设置更新的数据，以 <code>字段 = 值</code> 的格式编写，如果有多字段的更新用</li> <li><code>WHERE</code> 语句用于设置筛选条件，确定要更新的地方，例如确定更新该字段的哪一条记录，如果没有 <code>WHERE</code> 语句，将更新该字段的所有记录</li></ul> <h2 id="删除数据"><a href="#删除数据" class="header-anchor">#</a> 删除数据</h2> <p>使用 <code>DELETE</code> 语句删除数据表中的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 删除表中所有数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre></div><p>删除数据表中满足条件的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table_name <span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre></div><p><strong>示例</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 删除users表中id为5的记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token comment">-- 删除订单表中3天前的数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> orders <span class="token keyword">WHERE</span> created_at <span class="token operator">&lt;</span> DATE_SUB<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTERVAL</span> <span class="token number">3</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 分批删除数据（先删除1000条记录）</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> large_table <span class="token keyword">WHERE</span> id <span class="token operator">&lt;</span> <span class="token number">10000</span> <span class="token keyword">LIMIT</span> <span class="token number">1000</span><span class="token punctuation">;</span>
</code></pre></div><p>使用 <code>TRUNCATE TABLE</code> 清空表</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> table_name<span class="token punctuation">;</span>
</code></pre></div><p><strong>各删除语句对比</strong></p> <table><thead><tr><th></th> <th><code>TRUNCATE</code></th> <th><code>DELETE</code></th> <th><code>DROP</code></th></tr></thead> <tbody><tr><td>作用</td> <td>清空表</td> <td>删除行</td> <td>删除表</td></tr> <tr><td>语句类别</td> <td>DDL</td> <td>DML</td> <td>DDL</td></tr> <tr><td>删除表内容</td> <td>✅</td> <td>✅</td> <td>✅</td></tr> <tr><td>删除表结构</td> <td>❌</td> <td>❌</td> <td>✅</td></tr> <tr><td>释放空间</td> <td>✅</td> <td>❌</td> <td>✅</td></tr> <tr><td>执行速度</td> <td>⚡极快</td> <td>⏱️较慢</td> <td>⚡极快</td></tr> <tr><td>可回滚</td> <td>❌</td> <td>✅</td> <td>❌</td></tr></tbody></table> <h2 id="视图"><a href="#视图" class="header-anchor">#</a> 视图</h2> <p>视图是一种虚拟表，基于一个或多个表的查询结果集</p> <ul><li>视图本身不存储数据，数据来自基本表</li> <li>视图可以封装复杂查询逻辑，简化查询，隐藏表结构细节，方便复用</li> <li>视图保存的是表的结构，如果改变基本表的结构不会影响视图的定义</li> <li>视图不支持索引</li></ul> <div class="custom-block warning"><p class="custom-block-title">视图一般情况下是不可更新的，若要更新视图需要满足以下条件</p> <ul><li>只从一个基表派生</li> <li>不包含聚合函数</li> <li>不包含 <code>DISTINCT</code>、<code>GROUP BY</code>、<code>HAVING</code> 语句</li> <li>不包含子查询</li></ul> <p>满足以上条件可以执行 <code>UPDATE</code>、<code>DELETE</code>、<code>INSERT</code> 操作</p></div> <p><strong>创建视图</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> view_name <span class="token keyword">AS</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>示例：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> view_name <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre></div><p><strong>修改视图</strong></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> view_name <span class="token keyword">AS</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>示例：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> view_name <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">FROM</span> table_name
<span class="token keyword">WHERE</span> new_condition<span class="token punctuation">;</span>
</code></pre></div><details class="custom-block details"><summary>示例：用视图简化查询</summary> <p>这是一个复杂的基本表的查询语句</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
    c<span class="token punctuation">.</span>customer_id<span class="token punctuation">,</span>
    c<span class="token punctuation">.</span>customer_name<span class="token punctuation">,</span>
    c<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
    o<span class="token punctuation">.</span>order_id<span class="token punctuation">,</span>
    o<span class="token punctuation">.</span>order_date<span class="token punctuation">,</span>
    o<span class="token punctuation">.</span>total_amount<span class="token punctuation">,</span>
    p<span class="token punctuation">.</span>product_name<span class="token punctuation">,</span>
    oi<span class="token punctuation">.</span>quantity<span class="token punctuation">,</span>
    oi<span class="token punctuation">.</span>price
<span class="token keyword">FROM</span> 
    customers c
<span class="token keyword">JOIN</span> 
    orders o <span class="token keyword">ON</span> c<span class="token punctuation">.</span>customer_id <span class="token operator">=</span> o<span class="token punctuation">.</span>customer_id
<span class="token keyword">JOIN</span> 
    order_items oi <span class="token keyword">ON</span> o<span class="token punctuation">.</span>order_id <span class="token operator">=</span> oi<span class="token punctuation">.</span>order_id
<span class="token keyword">JOIN</span> 
    products p <span class="token keyword">ON</span> oi<span class="token punctuation">.</span>product_id <span class="token operator">=</span> p<span class="token punctuation">.</span>product_id<span class="token punctuation">;</span>
</code></pre></div><p>给这个复杂的查询创建一个视图</p> <div class="language-sql extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> customer_order_details <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> 
    c<span class="token punctuation">.</span>customer_id<span class="token punctuation">,</span>
    c<span class="token punctuation">.</span>customer_name<span class="token punctuation">,</span>
    c<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
    o<span class="token punctuation">.</span>order_id<span class="token punctuation">,</span>
    o<span class="token punctuation">.</span>order_date<span class="token punctuation">,</span>
    o<span class="token punctuation">.</span>total_amount<span class="token punctuation">,</span>
    p<span class="token punctuation">.</span>product_name<span class="token punctuation">,</span>
    oi<span class="token punctuation">.</span>quantity<span class="token punctuation">,</span>
    oi<span class="token punctuation">.</span>price
<span class="token keyword">FROM</span> 
    customers c
<span class="token keyword">JOIN</span> 
    orders o <span class="token keyword">ON</span> c<span class="token punctuation">.</span>customer_id <span class="token operator">=</span> o<span class="token punctuation">.</span>customer_id
<span class="token keyword">JOIN</span> 
    order_items oi <span class="token keyword">ON</span> o<span class="token punctuation">.</span>order_id <span class="token operator">=</span> oi<span class="token punctuation">.</span>order_id
<span class="token keyword">JOIN</span> 
    products p <span class="token keyword">ON</span> oi<span class="token punctuation">.</span>product_id <span class="token operator">=</span> p<span class="token punctuation">.</span>product_id<span class="token punctuation">;</span>
</code></pre></div><p>现在我们就可以直接使用视图，通过简单的查询语句查询之前那个复杂查询结果集里的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询所有客户订单详情</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> customer_order_details<span class="token punctuation">;</span>

<span class="token comment">-- 查询特定客户的订单</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> customer_order_details 
<span class="token keyword">WHERE</span> customer_id <span class="token operator">=</span> <span class="token number">1001</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询特定产品的销售情况</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> customer_order_details 
<span class="token keyword">WHERE</span> product_name <span class="token operator">=</span> <span class="token string">'智能手机'</span><span class="token punctuation">;</span>
</code></pre></div></details> <h2 id="权限"><a href="#权限" class="header-anchor">#</a> 权限</h2> <p><strong>常用权限列表</strong></p> <table><thead><tr><th>权限</th> <th>说明</th></tr></thead> <tbody><tr><td><code>ALL</code></td> <td>所有权限</td></tr> <tr><td><code>CREATE</code></td> <td>创建数据库/表</td></tr> <tr><td><code>DROP</code></td> <td>删除数据库/表</td></tr> <tr><td><code>ALTER</code></td> <td>修改表结构</td></tr> <tr><td><code>DELETE</code></td> <td>删除数据</td></tr> <tr><td><code>INSERT</code></td> <td>插入数据</td></tr> <tr><td><code>SELECT</code></td> <td>查询数据</td></tr> <tr><td><code>UPDATE</code></td> <td>更新数据</td></tr> <tr><td><code>INDEX</code></td> <td>创建/删除索引</td></tr> <tr><td><code>CREATE VIEW</code></td> <td>创建视图</td></tr> <tr><td><code>SHOW VIEW</code></td> <td>查看视图定义</td></tr> <tr><td><code>EXECUTE</code></td> <td>执行存储过程</td></tr> <tr><td><code>GRANT OPTION</code></td> <td>授权其他用户</td></tr></tbody></table> <h3 id="创建用户"><a href="#创建用户" class="header-anchor">#</a> 创建用户</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'username'</span><span class="token variable">@'host'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'password'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>若 <code>host</code> 为 <code>%</code> 时表示从任何 IP 连接</li> <li><code>host</code> 可以为IP地址，例如 <code>192.168.43.1</code>，也可以为 <code>localhost</code> 表示本地</li> <li><code>username</code> 为用户名 <code>password</code> 为用户密码</li></ul> <h3 id="授予权限"><a href="#授予权限" class="header-anchor">#</a> 授予权限</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">GRANT</span> 权限类型 <span class="token keyword">ON</span> 数据库<span class="token punctuation">.</span>对象 <span class="token keyword">TO</span> <span class="token string">'用户'</span><span class="token variable">@'主机'</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>示例</strong>：给用户 <code>'admin'@'localhost'</code> 授予在数据库 <code>myshop</code> 中 <code>SELECT</code>（查询数据） 和 <code>INSERT</code>（插入数据）的权限</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span> <span class="token keyword">ON</span> myshop<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'admin'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="撤销权限"><a href="#撤销权限" class="header-anchor">#</a> 撤销权限</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">REVOKE</span> 权限类型 <span class="token keyword">ON</span> 数据库<span class="token punctuation">.</span>对象 <span class="token keyword">FROM</span> <span class="token string">'用户'</span><span class="token variable">@'主机'</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>示例</strong>：撤销用户 <code>'shop_user'@'192.168.43.1'</code> 在数据库 <code>myshop</code> 的 <code>orders</code> 字段上的 <code>DELETE</code>（删除数据）的权限</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">REVOKE</span> <span class="token keyword">DELETE</span> <span class="token keyword">ON</span> myshop<span class="token punctuation">.</span>orders <span class="token keyword">FROM</span> <span class="token string">'shop_user'</span><span class="token variable">@'192.168.43.1'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="查看权限"><a href="#查看权限" class="header-anchor">#</a> 查看权限</h3> <p>查看当前用户权限</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> GRANTS<span class="token punctuation">;</span>
</code></pre></div><p>查看指定用户权限</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">'username'</span><span class="token variable">@'host'</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.3c2f8f21.js" defer></script><script src="/assets/js/3.107e051b.js" defer></script><script src="/assets/js/39.7f3be8cb.js" defer></script><script src="/assets/js/5.56dd59ee.js" defer></script>
  </body>
</html>
